2017-06-26T14:00:39.3322522-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-26T14:00:40.0082046-03:00 0HL5SMJFS14D4 [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-26T14:00:40.8297535-03:00 0HL5SMJFS14D4 [INF] Request finished in 832.6725ms 404  (15c52c40)
2017-06-26T14:01:07.4701995-03:00 0HL5SMJFS14D5 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498496467143&nonce=xyz   (e5be5b71)
2017-06-26T14:01:07.4902129-03:00 0HL5SMJFS14D5 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-26T14:01:08.1521548-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (94ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:01:08.3287725-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:01:08.3602931-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:01:08.3682992-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:01:08.3778047-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:01:08.3928145-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:01:08.4053230-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:01:08.4188327-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:01:08.4313416-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:01:09.4635309-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:01:09.6446513-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:01:09.9303430-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:01:09.9693684-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:10.0008894-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:10.0449262-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:01:10.2270467-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (175ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:01:10.4662067-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:01:10.4782147-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:01:10.4997294-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:01:10.5382553-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:10.5857865-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:10.6628378-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:01:10.8114381-03:00 0HL5SMJFS14D5 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:01:11.1611717-03:00 0HL5SMJFS14D5 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498496467143\",
  \"Nonce\": \"xyz\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498496467143\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T14:01:11.1676753-03:00 0HL5SMJFS14D5 [INF] Showing login: User is not authenticated (4b8d50b2)
2017-06-26T14:01:11.1846869-03:00 0HL5SMJFS14D5 [INF] Request finished in 3714.5456ms 302  (15c52c40)
2017-06-26T14:01:11.1896904-03:00 0HL5SMJFS14D6 [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498496467143%26nonce%3Dxyz   (e5be5b71)
2017-06-26T14:01:11.6705275-03:00 0HL5SMJFS14D6 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498496467143&nonce=xyz"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:01:11.6945427-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:01:11.7005475-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:01:11.7095525-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (8ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:01:11.7140556-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:01:11.7180587-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:01:11.7220610-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:01:11.7280654-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:01:11.7340690-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:01:11.7385721-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:01:11.7440757-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:01:11.7515806-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:01:11.7660904-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:01:11.7931087-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:11.8226291-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:11.8496466-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:01:11.9281992-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:01:11.9342028-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:01:11.9437094-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:01:11.9557170-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:01:11.9847366-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:12.0182589-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:01:12.0612879-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:01:12.1168249-03:00 0HL5SMJFS14D6 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:01:15.4359424-03:00 0HL5SMJFS14D6 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-26T14:01:16.2250692-03:00 0HL5SMJFS14D6 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 4951.6156ms (afa2e885)
2017-06-26T14:01:16.2310736-03:00 0HL5SMJFS14D6 [INF] Request finished in 5041.2427ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T14:01:16.3821744-03:00 0HL5SMJFS14D7 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T14:01:16.4056900-03:00 0HL5SMJFS14D7 [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T14:01:16.4422141-03:00 0HL5SMJFS14D7 [INF] Request finished in 60.2347ms 200 text/css (15c52c40)
2017-06-26T14:01:16.5269012-03:00 0HL5SMJFS14D8 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T14:01:16.5274021-03:00 0HL5SMJFS14D8 [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T14:01:16.5284030-03:00 0HL5SMJFS14D9 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T14:01:16.5299039-03:00 0HL5SMJFS14D9 [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T14:01:16.5344066-03:00 0HL5SMJFS14DA [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T14:01:16.5354078-03:00 0HL5SMJFS14D9 [INF] Request finished in 6.9913ms 200 text/css (15c52c40)
2017-06-26T14:01:16.5354078-03:00 0HL5SMJFS14DA [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T14:01:16.5369083-03:00 0HL5SMJFS14DB [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T14:01:16.5404126-03:00 0HL5SMJFS14DB [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T14:01:16.5514181-03:00 0HL5SMJFS14DA [INF] Request finished in 17.0103ms 200 application/javascript (15c52c40)
2017-06-26T14:01:16.5524198-03:00 0HL5SMJFS14D8 [INF] Request finished in 25.5239ms 200 text/css (15c52c40)
2017-06-26T14:01:16.5569233-03:00 0HL5SMJFS14DB [INF] Request finished in 19.5112ms 200 application/javascript (15c52c40)
2017-06-26T14:01:16.7780915-03:00 0HL5SMJFS14DC [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.woff2?v=2.4.0   (e5be5b71)
2017-06-26T14:01:16.7931013-03:00 0HL5SMJFS14DC [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.woff2"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.woff2"' (27b0a520)
2017-06-26T14:01:16.7956027-03:00 0HL5SMJFS14DC [INF] Request finished in 17.8314ms 200 application/font-woff2 (15c52c40)
2017-06-26T14:01:17.1030693-03:00 0HL5SMJFS14DD [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.ttf?v=2.4.0   (e5be5b71)
2017-06-26T14:01:17.1040697-03:00 0HL5SMJFS14DD [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.ttf"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.ttf"' (27b0a520)
2017-06-26T14:01:17.1060711-03:00 0HL5SMJFS14DD [INF] Request finished in 3.0174ms 200 application/x-font-ttf (15c52c40)
2017-06-26T14:02:01.9098201-03:00 0HL5SMJFS14DE [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498496467143%26nonce%3Dxyz application/x-www-form-urlencoded 525 (e5be5b71)
2017-06-26T14:02:02.0494133-03:00 0HL5SMJFS14DE [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:02:02.1694940-03:00 0HL5SMJFS14DE [INF] Executed DbCommand (28ms) [Parameters=[@___userName_0='?' (Size = 4000), @___password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Ativo], [_].[Password], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @___userName_0) AND ([_].[Password] = @___password_1) (6438bdd5)
2017-06-26T14:02:02.2380395-03:00 0HL5SMJFS14DE [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T14:02:02.2430426-03:00 0HL5SMJFS14DE [INF] Executing RedirectResult, redirecting to "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498496467143&nonce=xyz". (d98d540e)
2017-06-26T14:02:02.2445447-03:00 0HL5SMJFS14DE [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 330.4756ms (afa2e885)
2017-06-26T14:02:02.2445447-03:00 0HL5SMJFS14DE [INF] Request finished in 334.8375ms 302  (15c52c40)
2017-06-26T14:02:02.2495471-03:00 0HL5SMJFS14DF [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498496467143&nonce=xyz   (e5be5b71)
2017-06-26T14:02:02.2585529-03:00 0HL5SMJFS14DF [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:02:02.2590533-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:02:02.2595537-03:00 0HL5SMJFS14DF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/login" (f7642de5)
2017-06-26T14:02:02.2645573-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:02:02.2700613-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:02:02.2750652-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:02:02.2790667-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:02:02.2830694-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:02:02.2865724-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:02:02.2895738-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:02:02.2925760-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:02:02.2950778-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:02:02.2975796-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:02:02.3005814-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:02:02.3050865-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:02:02.3140899-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:02:02.3326036-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:02.3511148-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:02.3716291-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:02:02.4261660-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:02:02.4296678-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:02:02.4351710-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:02:02.4441780-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:02:02.4671928-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:02.4902084-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:02.5137236-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:02:02.5602548-03:00 0HL5SMJFS14DF [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:02:02.5607552-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:02:02.5612557-03:00 0HL5SMJFS14DF [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498496467143\",
  \"Nonce\": \"xyz\",
  \"SessionId\": \"18ace6871bd70db51d345c0ddb9e8b8c\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498496467143\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T14:02:02.9134919-03:00 0HL5SMJFS14DF [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"State\": \"1498496467143\",
  \"Scope\": \"openid profile email calemas\"
}" (5993a9fa)
2017-06-26T14:02:02.9265012-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:02:02.9315039-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:02:02.9335057-03:00 0HL5SMJFS14DF [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T14:02:02.9390109-03:00 0HL5SMJFS14DF [INF] Request finished in 689.4523ms 302  (15c52c40)
2017-06-26T14:02:03.8961490-03:00 0HL5SMJFS14DG [INF] Request starting HTTP/1.1 OPTIONS http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T14:02:03.9121601-03:00 0HL5SMJFS14DG [INF] Request finished in 16.4462ms 204  (15c52c40)
2017-06-26T14:02:04.1930231-03:00 0HL5SMJFS14DH [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T14:02:04.1965250-03:00 0HL5SMJFS14DH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo/" (f7642de5)
2017-06-26T14:02:04.2085354-03:00 0HL5SMJFS14DH [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-06-26T14:02:04.3186065-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:02:04.3236101-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:02:04.3266123-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:02:04.3296141-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:02:04.3331163-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:02:04.3361198-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:02:04.3421226-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:02:04.3456252-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:02:04.3481278-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:02:04.3606346-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:02:04.3641369-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:02:04.3676391-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:02:04.3711438-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:02:04.3746448-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:02:04.3776462-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:02:04.3816493-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:02:04.3851511-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:02:04.3916556-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:02:04.4126698-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:02:04.4171729-03:00 0HL5SMJFS14DH [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:02:04.4191743-03:00 0HL5SMJFS14DH [INF] Profile service returned to the following claim types: "sub name email" (a9217bec)
2017-06-26T14:02:04.4266800-03:00 0HL5SMJFS14DH [INF] Request finished in 233.7997ms 200 application/json (15c52c40)
2017-06-26T14:02:15.6873293-03:00 0HL5SMJFS14DI [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T14:02:15.6903315-03:00 0HL5SMJFS14DI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T14:02:15.7198507-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:02:15.7233525-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:02:15.7433667-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:02:15.7473702-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:15.7518721-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:02:15.7568756-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:02:15.7613783-03:00 0HL5SMJFS14DI [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:02:15.7828930-03:00 0HL5SMJFS14DI [INF] Request finished in 95.2336ms 200 application/json (15c52c40)
2017-06-26T14:02:16.0435669-03:00 0HL5SMJFS14DJ [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T14:02:16.0440670-03:00 0HL5SMJFS14DJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T14:02:16.0640807-03:00 0HL5SMJFS14DJ [INF] Request finished in 20.6131ms 200 application/json (15c52c40)
2017-06-26T14:10:05.9338748-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-26T14:10:06.3600024-03:00 0HL5SMOOL4TFG [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T14:10:06.5721438-03:00 0HL5SMOOL4TFG [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T14:10:06.7742789-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:06.8638394-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:06.9669089-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:06.9765232-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:06.9800295-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:06.9855368-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:06.9920400-03:00 0HL5SMOOL4TFG [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:07.6845019-03:00 0HL5SMOOL4TFG [INF] Request finished in 1342.296ms 200 application/json (15c52c40)
2017-06-26T14:10:07.9406748-03:00 0HL5SMOOL4TFH [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T14:10:07.9416740-03:00 0HL5SMOOL4TFH [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T14:10:08.1603198-03:00 0HL5SMOOL4TFH [INF] Request finished in 219.558ms 200 application/json (15c52c40)
2017-06-26T14:10:21.6963096-03:00 0HL5SMOOL4TFI [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjZiZjU1NzhkN2RjMmVjZWVkNzYzMDQzMmNjMDNlNjdjIiwidHlwIjoiSldUIn0.eyJuYmYiOjE0OTg0OTY1MjIsImV4cCI6MTQ5ODQ5NjgyMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo0MDAwIiwiYXVkIjoic3NvY2FsZW1hcyIsIm5vbmNlIjoieHl6IiwiaWF0IjoxNDk4NDk2NTIyLCJhdF9oYXNoIjoiNkVBQkl2aDZTNzlIRU5NVGpVNnBuUSIsInNpZCI6IjE4YWNlNjg3MWJkNzBkYjUxZDM0NWMwZGRiOWU4YjhjIiwic3ViIjoiMSIsImF1dGhfdGltZSI6MTQ5ODQ5NjUyMiwiaWRwIjoibG9jYWwiLCJuYW1lIjoiQWRtaW5pc3RyYWRvciIsImVtYWlsIjoiYWRtaW5AZW1haWwuY29tLmJyIiwiYW1yIjpbInB3ZCJdfQ.FPLubNeAGqJmBVZsa6uNl_zGZl5VeYv0-gwkl9DsPH78JBWl_UrqxD1JqyDDybrtP9LUYXdh4uwP-fu9QiLVC6VgSmy9ow4f1UIqjyYaUnrahkXOCu1T8ERRp_-U1h5z-gXwB4WEGR09TYLWivwYSmpBPp93ekM-h-_2um1hN6QSsBVWuHXDToAWImEwTAprSLYUTfKhQEhQNntxrtI0X9L45mb1EaK8Qofj0XrdZdjHhbSaGzcA0acDT7azO9amsG9pvH2oaYTxeEfzvt_HlZcMQcYJUcebeqrLIGoTl4ihSZoSPl_KtB2hWNbIecaDRlMlrkh1g96_ijKla52yoQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Floggedout%2F%3F&state=1498496467143   (e5be5b71)
2017-06-26T14:10:21.8794322-03:00 0HL5SMOOL4TFI [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:21.8809331-03:00 0HL5SMOOL4TFI [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:21.8899393-03:00 0HL5SMOOL4TFI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-06-26T14:10:21.9299661-03:00 0HL5SMOOL4TFI [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:22.1861381-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (48ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:22.2096525-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:22.2171578-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:22.2226643-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:22.2276649-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:22.2346694-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:22.2416743-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:22.2481779-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:22.2716940-03:00 0HL5SMOOL4TFI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:22.4978463-03:00 0HL5SMOOL4TFI [ERR] JWT token validation error: "Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match 'kid': '6bf5578d7dc2eceed7630432cc03e67c', 
token: '{\"alg\":\"RS256\",\"typ\":\"JWT\",\"kid\":\"6bf5578d7dc2eceed7630432cc03e67c\"}.{\"nbf\":1498496522,\"exp\":1498496822,\"iss\":\"http://localhost:4000\",\"aud\":\"ssocalemas\",\"nonce\":\"xyz\",\"iat\":1498496522,\"at_hash\":\"6EABIvh6S79HENMTjU6pnQ\",\"sid\":\"18ace6871bd70db51d345c0ddb9e8b8c\",\"sub\":\"1\",\"auth_time\":1498496522,\"idp\":\"local\",\"name\":\"Administrador\",\"email\":\"admin@email.com.br\",\"amr\":[\"pwd\"]}'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.<ValidateJwtAsync>d__11.MoveNext()" (2ea1dafb)
2017-06-26T14:10:22.5078514-03:00 0HL5SMOOL4TFI [ERR] Error validating JWT
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"ValidateLifetime\": false
}" (e9d09ef7)
2017-06-26T14:10:22.5163580-03:00 0HL5SMOOL4TFI [INF] End session request validation failure: Error validating id token hint
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjZiZjU1NzhkN2RjMmVjZWVkNzYzMDQzMmNjMDNlNjdjIiwidHlwIjoiSldUIn0.eyJuYmYiOjE0OTg0OTY1MjIsImV4cCI6MTQ5ODQ5NjgyMiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo0MDAwIiwiYXVkIjoic3NvY2FsZW1hcyIsIm5vbmNlIjoieHl6IiwiaWF0IjoxNDk4NDk2NTIyLCJhdF9oYXNoIjoiNkVBQkl2aDZTNzlIRU5NVGpVNnBuUSIsInNpZCI6IjE4YWNlNjg3MWJkNzBkYjUxZDM0NWMwZGRiOWU4YjhjIiwic3ViIjoiMSIsImF1dGhfdGltZSI6MTQ5ODQ5NjUyMiwiaWRwIjoibG9jYWwiLCJuYW1lIjoiQWRtaW5pc3RyYWRvciIsImVtYWlsIjoiYWRtaW5AZW1haWwuY29tLmJyIiwiYW1yIjpbInB3ZCJdfQ.FPLubNeAGqJmBVZsa6uNl_zGZl5VeYv0-gwkl9DsPH78JBWl_UrqxD1JqyDDybrtP9LUYXdh4uwP-fu9QiLVC6VgSmy9ow4f1UIqjyYaUnrahkXOCu1T8ERRp_-U1h5z-gXwB4WEGR09TYLWivwYSmpBPp93ekM-h-_2um1hN6QSsBVWuHXDToAWImEwTAprSLYUTfKhQEhQNntxrtI0X9L45mb1EaK8Qofj0XrdZdjHhbSaGzcA0acDT7azO9amsG9pvH2oaYTxeEfzvt_HlZcMQcYJUcebeqrLIGoTl4ihSZoSPl_KtB2hWNbIecaDRlMlrkh1g96_ijKla52yoQ\",
    \"post_logout_redirect_uri\": \"http://localhost:8080/#/loggedout/?\",
    \"state\": \"1498496467143\"
  }
}" (a48d87f5)
2017-06-26T14:10:22.5163580-03:00 0HL5SMOOL4TFI [ERR] Error processing end session request "Invalid request" (7af74809)
2017-06-26T14:10:22.5298690-03:00 0HL5SMOOL4TFI [INF] Request finished in 833.9308ms 302  (15c52c40)
2017-06-26T14:10:22.5413737-03:00 0HL5SMOOL4TFJ [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/logout   (e5be5b71)
2017-06-26T14:10:22.5423750-03:00 0HL5SMOOL4TFJ [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:22.5423750-03:00 0HL5SMOOL4TFJ [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:22.9766664-03:00 0HL5SMOOL4TFJ [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:10:22.9851710-03:00 0HL5SMOOL4TFJ [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:22.9926759-03:00 0HL5SMOOL4TFJ [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:22.9981811-03:00 0HL5SMOOL4TFJ [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:23.0016821-03:00 0HL5SMOOL4TFJ [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:25.1861422-03:00 0HL5SMOOL4TFJ [INF] Executing ViewResult, running view at path "/Views/Account/Logout.cshtml". (9707eebe)
2017-06-26T14:10:25.6144284-03:00 0HL5SMOOL4TFJ [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 2783.7237ms (afa2e885)
2017-06-26T14:10:25.6274382-03:00 0HL5SMOOL4TFJ [INF] Request finished in 3085.2972ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T14:10:25.7870439-03:00 0HL5SMOOL4TFK [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T14:10:25.7875439-03:00 0HL5SMOOL4TFK [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:25.7880448-03:00 0HL5SMOOL4TFK [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:25.8115600-03:00 0HL5SMOOL4TFK [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T14:10:25.8430809-03:00 0HL5SMOOL4TFK [INF] Request finished in 56.1708ms 200 text/css (15c52c40)
2017-06-26T14:10:25.9736683-03:00 0HL5SMOOL4TFL [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T14:10:25.9746704-03:00 0HL5SMOOL4TFL [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:25.9751700-03:00 0HL5SMOOL4TFL [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:25.9756697-03:00 0HL5SMOOL4TFL [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T14:10:26.0146951-03:00 0HL5SMOOL4TFM [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T14:10:26.0151960-03:00 0HL5SMOOL4TFM [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:26.0151960-03:00 0HL5SMOOL4TFM [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:26.0156964-03:00 0HL5SMOOL4TFM [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T14:10:26.0547235-03:00 0HL5SMOOL4TFN [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T14:10:26.0552244-03:00 0HL5SMOOL4TFN [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:26.0552244-03:00 0HL5SMOOL4TFN [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:26.0562232-03:00 0HL5SMOOL4TFN [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T14:10:26.0562232-03:00 0HL5SMOOL4TFM [INF] Request finished in 41.7316ms 200 application/javascript (15c52c40)
2017-06-26T14:10:26.0567236-03:00 0HL5SMOOL4TFO [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T14:10:26.0567236-03:00 0HL5SMOOL4TFN [INF] Request finished in 2.4882ms 200 text/css (15c52c40)
2017-06-26T14:10:26.0572241-03:00 0HL5SMOOL4TFO [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:26.0572241-03:00 0HL5SMOOL4TFO [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:26.0577245-03:00 0HL5SMOOL4TFL [INF] Request finished in 84.1132ms 200 text/css (15c52c40)
2017-06-26T14:10:26.0577245-03:00 0HL5SMOOL4TFO [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T14:10:26.0642289-03:00 0HL5SMOOL4TFO [INF] Request finished in 7.8275ms 200 application/javascript (15c52c40)
2017-06-26T14:10:28.5680627-03:00 0HL5SMOOL4TFP [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/Logout application/x-www-form-urlencoded 235 (e5be5b71)
2017-06-26T14:10:28.5820729-03:00 0HL5SMOOL4TFP [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:28.5820729-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.7136615-03:00 0HL5SMOOL4TFP [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LogoutInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:10:28.7186630-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.7196647-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.7196647-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.7216656-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.7516857-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" signed out. (d3f50c8d)
2017-06-26T14:10:28.7516857-03:00 0HL5SMOOL4TFP [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:28.9035004-03:00 0HL5SMOOL4TFP [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-06-26T14:10:28.9185074-03:00 0HL5SMOOL4TFP [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 330.3561ms (afa2e885)
2017-06-26T14:10:28.9190074-03:00 0HL5SMOOL4TFP [INF] Request finished in 351.1807ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T14:10:29.1326184-03:00 0HL5SMOOL4TFQ [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T14:10:29.1331185-03:00 0HL5SMOOL4TFQ [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T14:10:29.1336189-03:00 0HL5SMOOL4TFQ [INF] Request finished in 1.0082ms 200 text/css (15c52c40)
2017-06-26T14:10:29.2892228-03:00 0HL5SMOOL4TFR [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T14:10:29.2897232-03:00 0HL5SMOOL4TFR [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T14:10:29.2912245-03:00 0HL5SMOOL4TFS [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/endsession/callback?sid=18ace6871bd70db51d345c0ddb9e8b8c   (e5be5b71)
2017-06-26T14:10:29.2927250-03:00 0HL5SMOOL4TFS [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-06-26T14:10:29.2927250-03:00 0HL5SMOOL4TFR [INF] Request finished in 3.969ms 200 text/css (15c52c40)
2017-06-26T14:10:29.3102370-03:00 0HL5SMOOL4TFT [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T14:10:29.3107371-03:00 0HL5SMOOL4TFT [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T14:10:29.3112379-03:00 0HL5SMOOL4TFT [INF] Request finished in 0.9865ms 200 text/css (15c52c40)
2017-06-26T14:10:29.3987959-03:00 0HL5SMOOL4TFU [INF] Request starting HTTP/1.1 GET http://localhost:4000/js/signout-redirect.js   (e5be5b71)
2017-06-26T14:10:29.3992964-03:00 0HL5SMOOL4TFV [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T14:10:29.3997972-03:00 0HL5SMOOL4TFU [INF] Sending file. Request path: '"/js/signout-redirect.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\js\signout-redirect.js"' (27b0a520)
2017-06-26T14:10:29.3997972-03:00 0HL5SMOOL4TFU [INF] Request finished in 49.9973ms 200 application/javascript (15c52c40)
2017-06-26T14:10:29.4002968-03:00 0HL5SMOOL4TFV [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T14:10:29.4032999-03:00 0HL5SMOOL4TG0 [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T14:10:29.4043003-03:00 0HL5SMOOL4TG0 [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T14:10:29.4043003-03:00 0HL5SMOOL4TFV [INF] Request finished in 71.6006ms 200 application/javascript (15c52c40)
2017-06-26T14:10:29.4088030-03:00 0HL5SMOOL4TG0 [INF] Request finished in 5.4727ms 200 application/javascript (15c52c40)
2017-06-26T14:10:29.4498306-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (41ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:29.4633392-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (12ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:29.4768481-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (12ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:29.4943609-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (17ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:29.5153739-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (20ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:29.5308846-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (15ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:29.5438935-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (12ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:29.5513984-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:29.5624068-03:00 0HL5SMOOL4TFS [INF] Executed DbCommand (10ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:29.5734144-03:00 0HL5SMOOL4TFS [INF] Successful signout callback. Client logout iframe urls: "http://localhost:8080/#/loggedout/?&sid=18ace6871bd70db51d345c0ddb9e8b8c&iss=http%3A%2F%2Flocalhost%3A4000" (76941251)
2017-06-26T14:10:29.5909247-03:00 0HL5SMOOL4TFS [INF] Request finished in 299.7227ms 200 text/html; charset=UTF-8 (15c52c40)
2017-06-26T14:10:33.9555450-03:00 0HL5SMOOL4TG1 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498497033554&nonce=xyz   (e5be5b71)
2017-06-26T14:10:33.9590481-03:00 0HL5SMOOL4TG1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-26T14:10:33.9950713-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:33.9995745-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:34.0115825-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (11ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:34.0150847-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:34.0215892-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:34.0255918-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:34.0280944-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:34.0315959-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:34.0345981-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:34.0936373-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:34.0971391-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:34.1641842-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:34.1816970-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.2017104-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.2257256-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:34.2927710-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:34.3137844-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:34.3232907-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:34.3357996-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:34.3648183-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.3908357-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.4228580-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:34.4683879-03:00 0HL5SMOOL4TG1 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:34.5034119-03:00 0HL5SMOOL4TG1 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498497033554\",
  \"Nonce\": \"xyz\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498497033554\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T14:10:34.5124173-03:00 0HL5SMOOL4TG1 [INF] Showing login: User is not authenticated (4b8d50b2)
2017-06-26T14:10:34.5189217-03:00 0HL5SMOOL4TG1 [INF] Request finished in 562.9879ms 302  (15c52c40)
2017-06-26T14:10:34.5244257-03:00 0HL5SMOOL4TG2 [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498497033554%26nonce%3Dxyz   (e5be5b71)
2017-06-26T14:10:34.5284280-03:00 0HL5SMOOL4TG2 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498497033554&nonce=xyz"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:10:34.5554458-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:34.5589485-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:34.5619503-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:34.5654525-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:34.5714570-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:34.5754600-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:34.5784610-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:34.5819633-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:34.5859663-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:34.5904690-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:34.5954730-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:34.6049788-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:34.6259935-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.6450052-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.6630185-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:34.6980421-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:34.7010430-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:34.7055462-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:34.7120510-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:34.7325640-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.7575809-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:34.7765934-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:34.8196224-03:00 0HL5SMOOL4TG2 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:35.0212595-03:00 0HL5SMOOL4TG2 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-26T14:10:35.2364014-03:00 0HL5SMOOL4TG2 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 708.3905ms (afa2e885)
2017-06-26T14:10:35.2369023-03:00 0HL5SMOOL4TG2 [INF] Request finished in 712.2914ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T14:10:35.4620517-03:00 0HL5SMOOL4TG3 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T14:10:35.4625522-03:00 0HL5SMOOL4TG3 [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T14:10:35.4630522-03:00 0HL5SMOOL4TG3 [INF] Request finished in 1.0123ms 200 text/css (15c52c40)
2017-06-26T14:10:35.6016474-03:00 0HL5SMOOL4TG4 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T14:10:35.6016474-03:00 0HL5SMOOL4TG5 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T14:10:35.6021478-03:00 0HL5SMOOL4TG6 [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T14:10:35.6021478-03:00 0HL5SMOOL4TG4 [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T14:10:35.6026479-03:00 0HL5SMOOL4TG5 [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T14:10:35.6026479-03:00 0HL5SMOOL4TG6 [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T14:10:35.6031503-03:00 0HL5SMOOL4TG4 [INF] Request finished in 1.454ms 200 text/css (15c52c40)
2017-06-26T14:10:35.6046508-03:00 0HL5SMOOL4TG7 [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T14:10:35.6066505-03:00 0HL5SMOOL4TG7 [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T14:10:35.6086523-03:00 0HL5SMOOL4TG7 [INF] Request finished in 4.159ms 200 application/javascript (15c52c40)
2017-06-26T14:10:35.6091527-03:00 0HL5SMOOL4TG5 [INF] Request finished in 6.6304ms 200 text/css (15c52c40)
2017-06-26T14:10:35.6091527-03:00 0HL5SMOOL4TG6 [INF] Request finished in 7.4605ms 200 application/javascript (15c52c40)
2017-06-26T14:10:36.0139225-03:00 0HL5SMOOL4TG8 [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.woff2?v=2.4.0   (e5be5b71)
2017-06-26T14:10:36.0144234-03:00 0HL5SMOOL4TG8 [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.woff2"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.woff2"' (27b0a520)
2017-06-26T14:10:36.0149234-03:00 0HL5SMOOL4TG8 [INF] Request finished in 1.1618ms 200 application/font-woff2 (15c52c40)
2017-06-26T14:10:36.2075522-03:00 0HL5SMOOL4TG9 [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.ttf?v=2.4.0   (e5be5b71)
2017-06-26T14:10:36.2080527-03:00 0HL5SMOOL4TG9 [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.ttf"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.ttf"' (27b0a520)
2017-06-26T14:10:36.2085531-03:00 0HL5SMOOL4TG9 [INF] Request finished in 0.9955ms 200 application/x-font-ttf (15c52c40)
2017-06-26T14:10:43.1776097-03:00 0HL5SMOOL4TGA [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498497033554%26nonce%3Dxyz application/x-www-form-urlencoded 525 (e5be5b71)
2017-06-26T14:10:43.1901166-03:00 0HL5SMOOL4TGA [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T14:10:43.2856828-03:00 0HL5SMOOL4TGA [INF] Executed DbCommand (24ms) [Parameters=[@___userName_0='?' (Size = 4000), @___password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Ativo], [_].[Password], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @___userName_0) AND ([_].[Password] = @___password_1) (6438bdd5)
2017-06-26T14:10:43.3478663-03:00 0HL5SMOOL4TGA [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T14:10:43.3548695-03:00 0HL5SMOOL4TGA [INF] Executing RedirectResult, redirecting to "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498497033554&nonce=xyz". (d98d540e)
2017-06-26T14:10:43.3563704-03:00 0HL5SMOOL4TGA [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 176.1833ms (afa2e885)
2017-06-26T14:10:43.3568713-03:00 0HL5SMOOL4TGA [INF] Request finished in 179.1597ms 302  (15c52c40)
2017-06-26T14:10:43.3643762-03:00 0HL5SMOOL4TGB [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498497033554&nonce=xyz   (e5be5b71)
2017-06-26T14:10:43.3648762-03:00 0HL5SMOOL4TGB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T14:10:43.3648762-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:43.3653763-03:00 0HL5SMOOL4TGB [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/login" (f7642de5)
2017-06-26T14:10:43.3708807-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:43.3778855-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:43.3828883-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:43.3878914-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:43.3913932-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:43.3958968-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:43.4019012-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:43.4094061-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:43.4169106-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:43.4224142-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:43.4254176-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:43.4294191-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:43.4379248-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:43.4574374-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:43.4754506-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:43.4954632-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:43.5324877-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:43.5339890-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:43.5349895-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:43.5364916-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T14:10:43.5369917-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:43.5374925-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:10:43.5379925-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:10:43.5389922-03:00 0HL5SMOOL4TGB [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:10:43.5394926-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:43.5399939-03:00 0HL5SMOOL4TGB [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498497033554\",
  \"Nonce\": \"xyz\",
  \"SessionId\": \"7914a153492b56ee6f396d3a3af928bc\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498497033554\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T14:10:43.6310541-03:00 0HL5SMOOL4TGB [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"State\": \"1498497033554\",
  \"Scope\": \"openid profile email calemas\"
}" (5993a9fa)
2017-06-26T14:10:43.6410600-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:43.6455643-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T14:10:43.6480653-03:00 0HL5SMOOL4TGB [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T14:10:43.6550722-03:00 0HL5SMOOL4TGB [INF] Request finished in 291.0704ms 302  (15c52c40)
2017-06-26T14:10:44.8918972-03:00 0HL5SMOOL4TGC [INF] Request starting HTTP/1.1 OPTIONS http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T14:10:44.9019043-03:00 0HL5SMOOL4TGC [INF] Request finished in 9.918ms 204  (15c52c40)
2017-06-26T14:10:45.5053077-03:00 0HL5SMOOL4TGD [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T14:10:45.5078095-03:00 0HL5SMOOL4TGD [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo/" (f7642de5)
2017-06-26T14:10:45.5208168-03:00 0HL5SMOOL4TGD [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-06-26T14:10:45.5638457-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:45.5673480-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:45.5738524-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:45.5768542-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:45.5808569-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:45.5863613-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:45.5908636-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:45.5948662-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:45.5978689-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:45.6143792-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:10:45.6173814-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T14:10:45.6218841-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T14:10:45.6248867-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T14:10:45.6273885-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T14:10:45.6313908-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T14:10:45.6343930-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T14:10:45.6383952-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T14:10:45.6418983-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T14:10:45.6574081-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T14:10:45.6619117-03:00 0HL5SMOOL4TGD [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:10:45.6644134-03:00 0HL5SMOOL4TGD [INF] Profile service returned to the following claim types: "sub name email" (a9217bec)
2017-06-26T14:10:45.6669148-03:00 0HL5SMOOL4TGD [INF] Request finished in 161.7811ms 200 application/json (15c52c40)
2017-06-26T14:12:31.5977326-03:00 0HL5SMOOL4TGE [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T14:12:31.5987339-03:00 0HL5SMOOL4TGE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T14:12:31.6042391-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:12:31.6062392-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T14:12:31.6077397-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T14:12:31.6092410-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T14:12:31.6107419-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T14:12:31.6122428-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T14:12:31.6147441-03:00 0HL5SMOOL4TGE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T14:12:31.6162455-03:00 0HL5SMOOL4TGE [INF] Request finished in 18.6171ms 200 application/json (15c52c40)
2017-06-26T14:12:32.0175138-03:00 0HL5SMOOL4TGF [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T14:12:32.0190147-03:00 0HL5SMOOL4TGF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T14:12:32.0195156-03:00 0HL5SMOOL4TGF [INF] Request finished in 2.2665ms 200 application/json (15c52c40)
2017-06-26T15:01:22.9070535-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-26T15:01:23.3453469-03:00 0HL5SNLDLIFCD [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-26T15:01:23.5795038-03:00 0HL5SNLDLIFCD [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:01:23.6055203-03:00 0HL5SNLDLIFCD [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:01:23.8952142-03:00 0HL5SNLDLIFCD [INF] Request finished in 563.8845ms 404  (15c52c40)
2017-06-26T15:01:37.3755915-03:00 0HL5SNLDLIFCE [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T15:01:37.4621470-03:00 0HL5SNLDLIFCE [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T15:01:37.6477759-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:01:37.7297478-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:01:37.8370778-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:01:37.8457609-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:01:37.8507644-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:01:37.8547663-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:01:37.8617716-03:00 0HL5SNLDLIFCE [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:01:38.4466626-03:00 0HL5SNLDLIFCE [INF] Request finished in 1070.9388ms 200 application/json (15c52c40)
2017-06-26T15:01:38.8314194-03:00 0HL5SNLDLIFCF [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T15:01:38.8329207-03:00 0HL5SNLDLIFCF [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T15:01:39.1961629-03:00 0HL5SNLDLIFCF [INF] Request finished in 364.5615ms 200 application/json (15c52c40)
2017-06-26T15:02:03.0058630-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-26T15:02:03.4510470-03:00 0HL5SNLPK2QQ1 [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-26T15:02:03.7467437-03:00 0HL5SNLPK2QQ1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:03.8017824-03:00 0HL5SNLPK2QQ1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:04.1910411-03:00 0HL5SNLPK2QQ1 [INF] Request finished in 755.3285ms 404  (15c52c40)
2017-06-26T15:02:04.3141231-03:00 0HL5SNLPK2QQ2 [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T15:02:04.4452114-03:00 0HL5SNLPK2QQ2 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T15:02:04.6518500-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:04.7394096-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:04.8800016-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:04.8915088-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:04.8960119-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:04.9010167-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:04.9090212-03:00 0HL5SNLPK2QQ2 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:05.7275679-03:00 0HL5SNLPK2QQ2 [INF] Request finished in 1413.1589ms 200 application/json (15c52c40)
2017-06-26T15:02:06.0627982-03:00 0HL5SNLPK2QQ3 [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T15:02:06.0632979-03:00 0HL5SNLPK2QQ3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T15:02:06.4500564-03:00 0HL5SNLPK2QQ3 [INF] Request finished in 387.378ms 200 application/json (15c52c40)
2017-06-26T15:02:17.6377523-03:00 0HL5SNLPK2QQ4 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IjJmZGNlMzIyOTYwZWE5ZWYyYWU3MWMyNjc2ODlkODE3IiwidHlwIjoiSldUIn0.eyJuYmYiOjE0OTg0OTcwNDMsImV4cCI6MTQ5ODQ5NzM0MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo0MDAwIiwiYXVkIjoic3NvY2FsZW1hcyIsIm5vbmNlIjoieHl6IiwiaWF0IjoxNDk4NDk3MDQzLCJhdF9oYXNoIjoiYzAwQUdkXzdGQzhoQmpxbVp2bkZjQSIsInNpZCI6Ijc5MTRhMTUzNDkyYjU2ZWU2ZjM5NmQzYTNhZjkyOGJjIiwic3ViIjoiMSIsImF1dGhfdGltZSI6MTQ5ODQ5NzA0MywiaWRwIjoibG9jYWwiLCJuYW1lIjoiQWRtaW5pc3RyYWRvciIsImVtYWlsIjoiYWRtaW5AZW1haWwuY29tLmJyIiwiYW1yIjpbInB3ZCJdfQ.MyAU73SXgfm1Y3YQzieYbo0OIYJthTU58Ox17leyJVNnvBbO6k9MtHj5sHzOaxojeEm8hjRQHfCX0cLLc_E20rT7NK3vS-RPoDu3cCH1iYRxopmU3o96CU0WUHAwhVn6_3l0u1fme8jfQ6H9n9qjNuY4-oavFameP3tCHNYWYBXuHxBhxt_nNAdSjXJ6d4_6tylL5g3ZknFVfgCSt9aIs5ESgF1e680HMqVWQRu225sVSiafnnFYQ8jZNG9-dWNs6k8-9GE1dA5RvQnjUj_C_XKUGMf54xxTqv_fUwWD6ZAojw4RuVACg19X-czO6y-ZffZMSg4otRiNxzNp2ERYWA&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Floggedout%2F%3F&state=1498497033554   (e5be5b71)
2017-06-26T15:02:17.6382524-03:00 0HL5SNLPK2QQ4 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:17.6382524-03:00 0HL5SNLPK2QQ4 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:17.6417558-03:00 0HL5SNLPK2QQ4 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession" (f7642de5)
2017-06-26T15:02:17.6687737-03:00 0HL5SNLPK2QQ4 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:17.9109359-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (46ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:17.9394551-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:17.9469596-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:17.9534632-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:17.9589664-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:17.9684739-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:17.9764788-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:17.9859842-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:17.9929891-03:00 0HL5SNLPK2QQ4 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:18.2261501-03:00 0HL5SNLPK2QQ4 [ERR] JWT token validation error: "Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10501: Signature validation failed. Unable to match 'kid': '2fdce322960ea9ef2ae71c267689d817', 
token: '{\"alg\":\"RS256\",\"typ\":\"JWT\",\"kid\":\"2fdce322960ea9ef2ae71c267689d817\"}.{\"nbf\":1498497043,\"exp\":1498497343,\"iss\":\"http://localhost:4000\",\"aud\":\"ssocalemas\",\"nonce\":\"xyz\",\"iat\":1498497043,\"at_hash\":\"c00AGd_7FC8hBjqmZvnFcA\",\"sid\":\"7914a153492b56ee6f396d3a3af928bc\",\"sub\":\"1\",\"auth_time\":1498497043,\"idp\":\"local\",\"name\":\"Administrador\",\"email\":\"admin@email.com.br\",\"amr\":[\"pwd\"]}'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.<ValidateJwtAsync>d__11.MoveNext()" (2ea1dafb)
2017-06-26T15:02:18.2351575-03:00 0HL5SNLPK2QQ4 [ERR] Error validating JWT
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"ValidateLifetime\": false
}" (e9d09ef7)
2017-06-26T15:02:18.2596740-03:00 0HL5SNLPK2QQ4 [INF] End session request validation failure: Error validating id token hint
"{
  \"SubjectId\": \"unknown\",
  \"Raw\": {
    \"id_token_hint\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6IjJmZGNlMzIyOTYwZWE5ZWYyYWU3MWMyNjc2ODlkODE3IiwidHlwIjoiSldUIn0.eyJuYmYiOjE0OTg0OTcwNDMsImV4cCI6MTQ5ODQ5NzM0MywiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo0MDAwIiwiYXVkIjoic3NvY2FsZW1hcyIsIm5vbmNlIjoieHl6IiwiaWF0IjoxNDk4NDk3MDQzLCJhdF9oYXNoIjoiYzAwQUdkXzdGQzhoQmpxbVp2bkZjQSIsInNpZCI6Ijc5MTRhMTUzNDkyYjU2ZWU2ZjM5NmQzYTNhZjkyOGJjIiwic3ViIjoiMSIsImF1dGhfdGltZSI6MTQ5ODQ5NzA0MywiaWRwIjoibG9jYWwiLCJuYW1lIjoiQWRtaW5pc3RyYWRvciIsImVtYWlsIjoiYWRtaW5AZW1haWwuY29tLmJyIiwiYW1yIjpbInB3ZCJdfQ.MyAU73SXgfm1Y3YQzieYbo0OIYJthTU58Ox17leyJVNnvBbO6k9MtHj5sHzOaxojeEm8hjRQHfCX0cLLc_E20rT7NK3vS-RPoDu3cCH1iYRxopmU3o96CU0WUHAwhVn6_3l0u1fme8jfQ6H9n9qjNuY4-oavFameP3tCHNYWYBXuHxBhxt_nNAdSjXJ6d4_6tylL5g3ZknFVfgCSt9aIs5ESgF1e680HMqVWQRu225sVSiafnnFYQ8jZNG9-dWNs6k8-9GE1dA5RvQnjUj_C_XKUGMf54xxTqv_fUwWD6ZAojw4RuVACg19X-czO6y-ZffZMSg4otRiNxzNp2ERYWA\",
    \"post_logout_redirect_uri\": \"http://localhost:8080/#/loggedout/?\",
    \"state\": \"1498497033554\"
  }
}" (a48d87f5)
2017-06-26T15:02:18.2596740-03:00 0HL5SNLPK2QQ4 [ERR] Error processing end session request "Invalid request" (7af74809)
2017-06-26T15:02:18.2666773-03:00 0HL5SNLPK2QQ4 [INF] Request finished in 629.4504ms 302  (15c52c40)
2017-06-26T15:02:18.2721808-03:00 0HL5SNLPK2QQ5 [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/logout   (e5be5b71)
2017-06-26T15:02:18.2726821-03:00 0HL5SNLPK2QQ5 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:18.2731821-03:00 0HL5SNLPK2QQ5 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:18.5033364-03:00 0HL5SNLPK2QQ5 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-06-26T15:02:18.5113417-03:00 0HL5SNLPK2QQ5 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:18.5203467-03:00 0HL5SNLPK2QQ5 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:18.5263511-03:00 0HL5SNLPK2QQ5 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:18.5293525-03:00 0HL5SNLPK2QQ5 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:20.8217633-03:00 0HL5SNLPK2QQ5 [INF] Executing ViewResult, running view at path "/Views/Account/Logout.cshtml". (9707eebe)
2017-06-26T15:02:21.2230309-03:00 0HL5SNLPK2QQ5 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 2876.9585ms (afa2e885)
2017-06-26T15:02:21.2410437-03:00 0HL5SNLPK2QQ5 [INF] Request finished in 2968.791ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T15:02:21.3791348-03:00 0HL5SNLPK2QQ6 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T15:02:21.3796356-03:00 0HL5SNLPK2QQ6 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:21.3796356-03:00 0HL5SNLPK2QQ6 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:21.4021504-03:00 0HL5SNLPK2QQ6 [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T15:02:21.4306704-03:00 0HL5SNLPK2QQ6 [INF] Request finished in 51.7272ms 200 text/css (15c52c40)
2017-06-26T15:02:21.5191791-03:00 0HL5SNLPK2QQ7 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T15:02:21.5196800-03:00 0HL5SNLPK2QQ7 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:21.5196800-03:00 0HL5SNLPK2QQ7 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:21.5201800-03:00 0HL5SNLPK2QQ8 [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T15:02:21.5201800-03:00 0HL5SNLPK2QQ7 [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T15:02:21.5206809-03:00 0HL5SNLPK2QQ8 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:21.5206809-03:00 0HL5SNLPK2QQ8 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:21.5206809-03:00 0HL5SNLPK2QQ9 [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T15:02:21.5211809-03:00 0HL5SNLPK2QQ9 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:21.5211809-03:00 0HL5SNLPK2QQ9 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:21.5216809-03:00 0HL5SNLPK2QQ9 [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T15:02:21.5216809-03:00 0HL5SNLPK2QQ7 [INF] Request finished in 2.5292ms 200 text/css (15c52c40)
2017-06-26T15:02:21.5216809-03:00 0HL5SNLPK2QQ8 [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T15:02:21.5216809-03:00 0HL5SNLPK2QQA [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T15:02:21.5221814-03:00 0HL5SNLPK2QQA [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:21.5226822-03:00 0HL5SNLPK2QQA [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:21.5226822-03:00 0HL5SNLPK2QQA [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T15:02:21.5441961-03:00 0HL5SNLPK2QQA [INF] Request finished in 22.3726ms 200 application/javascript (15c52c40)
2017-06-26T15:02:21.5527014-03:00 0HL5SNLPK2QQ9 [INF] Request finished in 32.025ms 200 application/javascript (15c52c40)
2017-06-26T15:02:21.5572046-03:00 0HL5SNLPK2QQ8 [INF] Request finished in 37.2064ms 200 text/css (15c52c40)
2017-06-26T15:02:22.9439135-03:00 0HL5SNLPK2QQB [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/Logout application/x-www-form-urlencoded 235 (e5be5b71)
2017-06-26T15:02:22.9609250-03:00 0HL5SNLPK2QQB [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:22.9609250-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.1645610-03:00 0HL5SNLPK2QQB [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LogoutInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T15:02:23.1725660-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.1725660-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.1725660-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.1750677-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.2230998-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" signed out. (d3f50c8d)
2017-06-26T15:02:23.2230998-03:00 0HL5SNLPK2QQB [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:23.4352420-03:00 0HL5SNLPK2QQB [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-06-26T15:02:23.4562563-03:00 0HL5SNLPK2QQB [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 489.6765ms (afa2e885)
2017-06-26T15:02:23.4562563-03:00 0HL5SNLPK2QQB [INF] Request finished in 512.6182ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T15:02:23.6208664-03:00 0HL5SNLPK2QQC [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T15:02:23.6213664-03:00 0HL5SNLPK2QQC [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T15:02:23.6218669-03:00 0HL5SNLPK2QQC [INF] Request finished in 1.062ms 200 text/css (15c52c40)
2017-06-26T15:02:23.7749690-03:00 0HL5SNLPK2QQD [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T15:02:23.7764703-03:00 0HL5SNLPK2QQE [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T15:02:23.7764703-03:00 0HL5SNLPK2QQF [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T15:02:23.7769703-03:00 0HL5SNLPK2QQF [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T15:02:23.7769703-03:00 0HL5SNLPK2QQE [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T15:02:23.7769703-03:00 0HL5SNLPK2QQD [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T15:02:23.7779708-03:00 0HL5SNLPK2QQD [INF] Request finished in 3.1528ms 200 text/css (15c52c40)
2017-06-26T15:02:23.7804725-03:00 0HL5SNLPK2QQG [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T15:02:23.7819734-03:00 0HL5SNLPK2QQG [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T15:02:23.7839764-03:00 0HL5SNLPK2QQF [INF] Request finished in 7.8908ms 200 text/css (15c52c40)
2017-06-26T15:02:23.7849761-03:00 0HL5SNLPK2QQG [INF] Request finished in 5.0396ms 200 application/javascript (15c52c40)
2017-06-26T15:02:23.7864782-03:00 0HL5SNLPK2QQE [INF] Request finished in 10.223ms 200 application/javascript (15c52c40)
2017-06-26T15:02:23.8585255-03:00 0HL5SNLPK2QQH [INF] Request starting HTTP/1.1 GET http://localhost:4000/js/signout-redirect.js   (e5be5b71)
2017-06-26T15:02:23.8590251-03:00 0HL5SNLPK2QQH [INF] Sending file. Request path: '"/js/signout-redirect.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\js\signout-redirect.js"' (27b0a520)
2017-06-26T15:02:23.8650292-03:00 0HL5SNLPK2QQI [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/endsession/callback?sid=7914a153492b56ee6f396d3a3af928bc   (e5be5b71)
2017-06-26T15:02:23.8705335-03:00 0HL5SNLPK2QQH [INF] Request finished in 37.2408ms 200 application/javascript (15c52c40)
2017-06-26T15:02:23.8705335-03:00 0HL5SNLPK2QQI [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-06-26T15:02:23.9125612-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:23.9155630-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:23.9210666-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:23.9235684-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:23.9265710-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:23.9285719-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:23.9295724-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:23.9300728-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:23.9310745-03:00 0HL5SNLPK2QQI [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:23.9390791-03:00 0HL5SNLPK2QQI [INF] Successful signout callback. Client logout iframe urls: "http://localhost:8080/#/loggedout/?&sid=7914a153492b56ee6f396d3a3af928bc&iss=http%3A%2F%2Flocalhost%3A4000" (76941251)
2017-06-26T15:02:23.9575911-03:00 0HL5SNLPK2QQI [INF] Request finished in 123.9437ms 200 text/html; charset=UTF-8 (15c52c40)
2017-06-26T15:02:27.6929314-03:00 0HL5SNLPK2QQJ [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498500147338&nonce=xyz   (e5be5b71)
2017-06-26T15:02:27.6969336-03:00 0HL5SNLPK2QQJ [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-26T15:02:27.7359591-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:27.7364595-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:27.7369604-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:27.7374600-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:27.7379608-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:27.7384613-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:27.7389613-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:27.7394617-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:27.7399622-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:27.8075068-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:27.8130108-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:27.8855594-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:27.9025705-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:27.9225843-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:27.9410964-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:27.9786312-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:27.9911393-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:27.9922666-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:27.9947708-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:27.9952709-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:27.9962721-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:27.9972726-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:27.9982739-03:00 0HL5SNLPK2QQJ [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:28.0232904-03:00 0HL5SNLPK2QQJ [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498500147338\",
  \"Nonce\": \"xyz\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498500147338\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T15:02:28.0297940-03:00 0HL5SNLPK2QQJ [INF] Showing login: User is not authenticated (4b8d50b2)
2017-06-26T15:02:28.0342980-03:00 0HL5SNLPK2QQJ [INF] Request finished in 341.6794ms 302  (15c52c40)
2017-06-26T15:02:28.0403028-03:00 0HL5SNLPK2QQK [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498500147338%26nonce%3Dxyz   (e5be5b71)
2017-06-26T15:02:28.0443092-03:00 0HL5SNLPK2QQK [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498500147338&nonce=xyz"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T15:02:28.0618158-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:28.0628163-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:28.0628163-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:28.0633167-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:28.0643184-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:28.0653185-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:28.0663194-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:28.0678199-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:28.0683223-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:28.0708225-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:28.0713225-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:28.0728234-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:28.0733230-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:28.0738235-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:28.0743247-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:28.0748239-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:28.0763265-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:28.0768257-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:28.0788270-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:28.0793274-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:28.0798275-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:28.0808283-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:28.0813284-03:00 0HL5SNLPK2QQK [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:28.2838161-03:00 0HL5SNLPK2QQK [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-26T15:02:28.4569320-03:00 0HL5SNLPK2QQK [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 413.6943ms (afa2e885)
2017-06-26T15:02:28.4569320-03:00 0HL5SNLPK2QQK [INF] Request finished in 417.0282ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-26T15:02:28.6145372-03:00 0HL5SNLPK2QQL [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/font-awesome.min.css   (e5be5b71)
2017-06-26T15:02:28.6150373-03:00 0HL5SNLPK2QQL [INF] Sending file. Request path: '"/css/font-awesome.min.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\font-awesome.min.css"' (27b0a520)
2017-06-26T15:02:28.6165394-03:00 0HL5SNLPK2QQL [INF] Request finished in 1.8736ms 200 text/css (15c52c40)
2017-06-26T15:02:28.7531295-03:00 0HL5SNLPK2QQM [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-26T15:02:28.7531295-03:00 0HL5SNLPK2QQN [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/simple-line-icons.css   (e5be5b71)
2017-06-26T15:02:28.7536300-03:00 0HL5SNLPK2QQO [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/jquery/jquery.js   (e5be5b71)
2017-06-26T15:02:28.7541304-03:00 0HL5SNLPK2QQM [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-26T15:02:28.7541304-03:00 0HL5SNLPK2QQN [INF] Sending file. Request path: '"/css/simple-line-icons.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\simple-line-icons.css"' (27b0a520)
2017-06-26T15:02:28.7541304-03:00 0HL5SNLPK2QQP [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/js/bootstrap.js   (e5be5b71)
2017-06-26T15:02:28.7546304-03:00 0HL5SNLPK2QQP [INF] Sending file. Request path: '"/lib/bootstrap/js/bootstrap.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\js\bootstrap.js"' (27b0a520)
2017-06-26T15:02:28.7551313-03:00 0HL5SNLPK2QQN [INF] Request finished in 1.6942ms 200 text/css (15c52c40)
2017-06-26T15:02:28.7546304-03:00 0HL5SNLPK2QQO [INF] Sending file. Request path: '"/lib/jquery/jquery.js"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\jquery\jquery.js"' (27b0a520)
2017-06-26T15:02:28.7556317-03:00 0HL5SNLPK2QQP [INF] Request finished in 1.1753ms 200 application/javascript (15c52c40)
2017-06-26T15:02:28.7561318-03:00 0HL5SNLPK2QQM [INF] Request finished in 2.7283ms 200 text/css (15c52c40)
2017-06-26T15:02:28.7606349-03:00 0HL5SNLPK2QQO [INF] Request finished in 7.041ms 200 application/javascript (15c52c40)
2017-06-26T15:02:29.2024304-03:00 0HL5SNLPK2QQQ [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.woff2?v=2.4.0   (e5be5b71)
2017-06-26T15:02:29.2034305-03:00 0HL5SNLPK2QQQ [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.woff2"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.woff2"' (27b0a520)
2017-06-26T15:02:29.2054318-03:00 0HL5SNLPK2QQQ [INF] Request finished in 2.9808ms 200 application/font-woff2 (15c52c40)
2017-06-26T15:02:29.3595348-03:00 0HL5SNLPK2QQR [INF] Request starting HTTP/1.1 GET http://localhost:4000/fonts/Simple-Line-Icons.ttf?v=2.4.0   (e5be5b71)
2017-06-26T15:02:29.3600353-03:00 0HL5SNLPK2QQR [INF] Sending file. Request path: '"/fonts/Simple-Line-Icons.ttf"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\fonts\Simple-Line-Icons.ttf"' (27b0a520)
2017-06-26T15:02:29.3620366-03:00 0HL5SNLPK2QQR [INF] Request finished in 2.7862ms 200 application/x-font-ttf (15c52c40)
2017-06-26T15:02:33.9529657-03:00 0HL5SNLPK2QQS [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%252F%2523%252Fauthorized%252F%253F%26response_type%3Did_token%2520token%26scope%3Dopenid%2520calemas%2520profile%2520email%26state%3D1498500147338%26nonce%3Dxyz application/x-www-form-urlencoded 525 (e5be5b71)
2017-06-26T15:02:33.9639646-03:00 0HL5SNLPK2QQS [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-26T15:02:34.1045591-03:00 0HL5SNLPK2QQS [INF] Executed DbCommand (35ms) [Parameters=[@___userName_0='?' (Size = 4000), @___password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Ativo], [_].[Password], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @___userName_0) AND ([_].[Password] = @___password_1) (6438bdd5)
2017-06-26T15:02:34.1776221-03:00 0HL5SNLPK2QQS [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T15:02:34.1861299-03:00 0HL5SNLPK2QQS [INF] Executing RedirectResult, redirecting to "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498500147338&nonce=xyz". (d98d540e)
2017-06-26T15:02:34.1876296-03:00 0HL5SNLPK2QQS [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 232.6108ms (afa2e885)
2017-06-26T15:02:34.1881292-03:00 0HL5SNLPK2QQS [INF] Request finished in 235.0021ms 302  (15c52c40)
2017-06-26T15:02:34.1931327-03:00 0HL5SNLPK2QQT [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2F%23%2Fauthorized%2F%3F&response_type=id_token%20token&scope=openid%20calemas%20profile%20email&state=1498500147338&nonce=xyz   (e5be5b71)
2017-06-26T15:02:34.1936344-03:00 0HL5SNLPK2QQT [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-26T15:02:34.1936344-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:34.1941344-03:00 0HL5SNLPK2QQT [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/login" (f7642de5)
2017-06-26T15:02:34.2006389-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:34.2091434-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:34.2106452-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:34.2111460-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:34.2116452-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:34.2151479-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:34.2161479-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:34.2171496-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:34.2261546-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (8ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:34.2271559-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:34.2291597-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:34.2306589-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:34.2336603-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:34.2346616-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:34.2351612-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:34.2361621-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:34.2376630-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:34.2396648-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:34.2401648-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:34.2421657-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-26T15:02:34.2426657-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:34.2431658-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:02:34.2441670-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:02:34.2446675-03:00 0HL5SNLPK2QQT [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'openid', N'calemas', N'profile', N'email') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:02:34.2451675-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:34.2456675-03:00 0HL5SNLPK2QQT [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"Calemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/authorized/?\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"id_token token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"openid calemas profile email\",
  \"State\": \"1498500147338\",
  \"Nonce\": \"xyz\",
  \"SessionId\": \"ac5eaf110d561ee01a7ad77b5bb22dad\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080/#/authorized/?\",
    \"response_type\": \"id_token token\",
    \"scope\": \"openid calemas profile email\",
    \"state\": \"1498500147338\",
    \"nonce\": \"xyz\"
  }
}" (9a175e33)
2017-06-26T15:02:34.3752544-03:00 0HL5SNLPK2QQT [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080/#/authorized/?\",
  \"State\": \"1498500147338\",
  \"Scope\": \"openid profile email calemas\"
}" (5993a9fa)
2017-06-26T15:02:34.3897638-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:34.3957683-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-26T15:02:34.3997722-03:00 0HL5SNLPK2QQT [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-26T15:02:34.4052753-03:00 0HL5SNLPK2QQT [INF] Request finished in 212.1836ms 302  (15c52c40)
2017-06-26T15:02:35.6921510-03:00 0HL5SNLPK2QQU [INF] Request starting HTTP/1.1 OPTIONS http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T15:02:35.7026581-03:00 0HL5SNLPK2QQU [INF] Request finished in 10.6799ms 204  (15c52c40)
2017-06-26T15:02:36.1854809-03:00 0HL5SNLPK2QQV [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/userinfo/?   (e5be5b71)
2017-06-26T15:02:36.1889827-03:00 0HL5SNLPK2QQV [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo/" (f7642de5)
2017-06-26T15:02:36.2034929-03:00 0HL5SNLPK2QQV [INF] ValidateAsync: Locating bearer token (a4b419b4)
2017-06-26T15:02:36.2470215-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:36.2475219-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:36.2485228-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:36.2495237-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:36.2505249-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:36.2540264-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:36.2550268-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:36.2560277-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:36.2570286-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:36.2705379-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:02:36.2750402-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-26T15:02:36.2760407-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-26T15:02:36.2765411-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-26T15:02:36.2770419-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-26T15:02:36.2775424-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-26T15:02:36.2780420-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-26T15:02:36.2785428-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-26T15:02:36.2790429-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-26T15:02:36.2965549-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-26T15:02:36.3020585-03:00 0HL5SNLPK2QQV [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [identityResource]
    WHERE [identityResource].[Name] IN (N'openid', N'profile', N'email', N'calemas') AND ([i].[IdentityResourceId] = [identityResource].[Id]))
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:02:36.3045606-03:00 0HL5SNLPK2QQV [INF] Profile service returned to the following claim types: "sub name email" (a9217bec)
2017-06-26T15:02:36.3065616-03:00 0HL5SNLPK2QQV [INF] Request finished in 120.9349ms 200 application/json (15c52c40)
2017-06-26T15:03:38.2049811-03:00 0HL5SNLPK2QR0 [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-26T15:03:38.2054811-03:00 0HL5SNLPK2QR0 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-26T15:03:38.2089833-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:03:38.2124856-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-26T15:03:38.2149878-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-26T15:03:38.2179896-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-26T15:03:38.2194913-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-26T15:03:38.2214926-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-26T15:03:38.2244936-03:00 0HL5SNLPK2QR0 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-26T15:03:38.2254945-03:00 0HL5SNLPK2QR0 [INF] Request finished in 20.6345ms 200 application/json (15c52c40)
2017-06-26T15:03:38.4716791-03:00 0HL5SNLPK2QR1 [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration/jwks   (e5be5b71)
2017-06-26T15:03:38.4721738-03:00 0HL5SNLPK2QR1 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration/jwks" (f7642de5)
2017-06-26T15:03:38.4726750-03:00 0HL5SNLPK2QR1 [INF] Request finished in 1.0735ms 200 application/json (15c52c40)
