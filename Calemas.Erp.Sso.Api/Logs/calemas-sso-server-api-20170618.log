2017-06-18T00:00:11.8391532-03:00 0HL5LUIVVIC5O [INF] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=8e5a498bf9d9afb7b56b0881dc54f7f9   (e5be5b71)
2017-06-18T00:00:11.8491599-03:00 0HL5LUIVVIC5O [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" with arguments (["8e5a498bf9d9afb7b56b0881dc54f7f9"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:00:11.8536630-03:00 0HL5LUIVVIC5O [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2017-06-18T00:00:11.8551639-03:00 0HL5LUIVVIC5O [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" in 14.5738ms (afa2e885)
2017-06-18T00:00:11.8556643-03:00 0HL5LUIVVIC5O [INF] Request finished in 16.7623ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:00:17.3686551-03:00 0HL5LUIVVIC5P [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977548171720.78413413516527   (e5be5b71)
2017-06-18T00:00:17.3691547-03:00 0HL5LUIVVIC5P [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:00:17.3891677-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:00:17.5292615-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:00:17.5542780-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:00:17.5607820-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:00:17.5672865-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:00:17.5762927-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:00:17.5837976-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:00:17.5908021-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:00:17.5983082-03:00 0HL5LUIVVIC5P [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:00:18.2197217-03:00 0HL5LUIVVIC5P [ERR] Invalid redirect_uri: http://localhost:8080
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/dashboard\"
  ],
  \"SubjectId\": \"anonymous\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977548171720.78413413516527\"
  }
}" (9e687a3b)
2017-06-18T00:00:18.2197217-03:00 0HL5LUIVVIC5P [ERR] Request validation failed (abd529bc)
2017-06-18T00:00:18.2197217-03:00 0HL5LUIVVIC5P [INF] "{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/dashboard\"
  ],
  \"SubjectId\": \"anonymous\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977548171720.78413413516527\"
  }
}" (9899f104)
2017-06-18T00:00:18.2207226-03:00 0HL5LUIVVIC5P [INF] Request finished in 852.418ms 302  (15c52c40)
2017-06-18T00:00:18.2307293-03:00 0HL5LUIVVIC5Q [INF] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=eb1ee2136705d42da8f9abde569fb204   (e5be5b71)
2017-06-18T00:00:18.2317301-03:00 0HL5LUIVVIC5Q [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" with arguments (["eb1ee2136705d42da8f9abde569fb204"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:00:18.2322298-03:00 0HL5LUIVVIC5Q [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2017-06-18T00:00:18.2352324-03:00 0HL5LUIVVIC5Q [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" in 3.7284ms (afa2e885)
2017-06-18T00:00:18.2362332-03:00 0HL5LUIVVIC5Q [INF] Request finished in 5.841ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:01:14.0598235-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-18T00:01:14.4866095-03:00 0HL5LUP442Q8N [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health   (e5be5b71)
2017-06-18T00:01:14.9959486-03:00 0HL5LUP442Q8N [INF] Executing action method "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:01:15.0439799-03:00 0HL5LUP442Q8N [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-06-18T00:01:15.1430470-03:00 0HL5LUP442Q8N [INF] Executed action "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" in 234.8705ms (afa2e885)
2017-06-18T00:01:15.1710657-03:00 0HL5LUP442Q8N [INF] Request finished in 704.4637ms 200 text/plain; charset=utf-8 (15c52c40)
2017-06-18T00:01:29.0731534-03:00 0HL5LUP442Q8O [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977548888850.8059380859175758   (e5be5b71)
2017-06-18T00:01:29.0911642-03:00 0HL5LUP442Q8O [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:01:29.5774886-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (64ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:01:29.7165812-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:01:29.7471024-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:01:29.7521056-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:01:29.7586108-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:01:29.7691167-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:01:29.7791242-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:01:29.7866299-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:01:29.7976358-03:00 0HL5LUP442Q8O [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:01:31.0504720-03:00 0HL5LUP442Q8O [ERR] Invalid redirect_uri: http://localhost:8080
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/dashboard\"
  ],
  \"SubjectId\": \"anonymous\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977548888850.8059380859175758\"
  }
}" (9e687a3b)
2017-06-18T00:01:31.0554751-03:00 0HL5LUP442Q8O [ERR] Request validation failed (abd529bc)
2017-06-18T00:01:31.0559756-03:00 0HL5LUP442Q8O [INF] "{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080/#/dashboard\"
  ],
  \"SubjectId\": \"anonymous\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977548888850.8059380859175758\"
  }
}" (9899f104)
2017-06-18T00:01:31.3091438-03:00 0HL5LUP442Q8O [INF] Request finished in 2236.3131ms 302  (15c52c40)
2017-06-18T00:01:31.3166500-03:00 0HL5LUP442Q8P [INF] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=78453f4f546676ab2b34f38f21fafda6   (e5be5b71)
2017-06-18T00:01:31.5518062-03:00 0HL5LUP442Q8P [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" with arguments (["78453f4f546676ab2b34f38f21fafda6"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:01:33.7112619-03:00 0HL5LUP442Q8P [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2017-06-18T00:01:34.3461847-03:00 0HL5LUP442Q8P [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" in 2946.6676ms (afa2e885)
2017-06-18T00:01:34.3667039-03:00 0HL5LUP442Q8P [INF] Request finished in 3050.2156ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:07:16.7353161-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-18T00:07:17.2226541-03:00 0HL5LUSG7DC3B [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health   (e5be5b71)
2017-06-18T00:07:17.7419893-03:00 0HL5LUSG7DC3B [INF] Executing action method "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:07:17.7840169-03:00 0HL5LUSG7DC3B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-06-18T00:07:17.9181051-03:00 0HL5LUSG7DC3B [INF] Executed action "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" in 246.819ms (afa2e885)
2017-06-18T00:07:17.9481256-03:00 0HL5LUSG7DC3B [INF] Request finished in 746.1859ms 200 text/plain; charset=utf-8 (15c52c40)
2017-06-18T00:07:18.1992133-03:00 0HL5LUSG7DC3C [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:07:18.2137230-03:00 0HL5LUSG7DC3C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:07:18.2387408-03:00 0HL5LUSG7DC3C [INF] Request finished in 39.3727ms 200 image/x-icon (15c52c40)
2017-06-18T00:07:23.5222357-03:00 0HL5LUSG7DC3D [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635   (e5be5b71)
2017-06-18T00:07:23.5372463-03:00 0HL5LUSG7DC3D [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:07:23.8467024-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:07:23.9092430-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:07:23.9187497-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:07:23.9232524-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:07:23.9297568-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:07:23.9347616-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:07:23.9402643-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:07:23.9447666-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:07:23.9497706-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:07:24.1093769-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:07:24.1914317-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:07:24.2054410-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:24.2179499-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:24.2359615-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:07:24.2709855-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:07:24.3600442-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:07:24.3615460-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:07:24.3635473-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:24.3660487-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:24.3665483-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:07:24.3675491-03:00 0HL5LUSG7DC3D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:07:24.7958344-03:00 0HL5LUSG7DC3D [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977552433230.7841490902207635\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977552433230.7841490902207635\"
  }
}" (9a175e33)
2017-06-18T00:07:24.8068420-03:00 0HL5LUSG7DC3D [INF] Showing login: User is not authenticated (4b8d50b2)
2017-06-18T00:07:24.8238531-03:00 0HL5LUSG7DC3D [INF] Request finished in 1301.7553ms 302  (15c52c40)
2017-06-18T00:07:24.8288571-03:00 0HL5LUSG7DC3E [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977552433230.7841490902207635   (e5be5b71)
2017-06-18T00:07:25.1315587-03:00 0HL5LUSG7DC3E [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:07:25.1575761-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:07:25.1580765-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:07:25.1585765-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:07:25.1590765-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:07:25.1595778-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:07:25.1600778-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:07:25.1605783-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:07:25.1610783-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:07:25.1615783-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:07:25.1635801-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:07:25.1645809-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:07:25.1650805-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:25.1655814-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:25.1660818-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:07:25.1670823-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:07:25.1685836-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:07:25.1695841-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:07:25.1700845-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:25.1710850-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:07:25.1715854-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:07:25.1725859-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:07:25.1835930-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:07:25.1835930-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:07:25.1845943-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:07:25.1850947-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:07:25.1850947-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:07:25.1855952-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:07:25.1860948-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:07:25.1865956-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:07:25.1870961-03:00 0HL5LUSG7DC3E [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:07:28.0287804-03:00 0HL5LUSG7DC3E [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:07:28.8766683-03:00 0HL5LUSG7DC3E [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 3988.322ms (afa2e885)
2017-06-18T00:07:28.8806705-03:00 0HL5LUSG7DC3E [INF] Request finished in 4051.8384ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:07:39.2439553-03:00 0HL5LUSG7DC3F [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977552433230.7841490902207635 application/x-www-form-urlencoded 437 (e5be5b71)
2017-06-18T00:07:39.3710411-03:00 0HL5LUSG7DC3F [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:07:39.4702835-03:00 0HL5LUSG7DC3F [INF] Executed DbCommand (31ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Password], [_].[PessoaId], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @__userName_0) AND ([_].[Password] = @__password_1) (6438bdd5)
2017-06-18T00:07:39.5198136-03:00 0HL5LUSG7DC3F [ERR] An exception occurred in the database while iterating the results of a query.
 (3b5ca34b)
System.Data.SqlClient.SqlException: Invalid column name 'PessoaId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__107_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable.AsyncEnumerator.<BufferlessMoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__6`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable.AsyncEnumerator.<MoveNext>d__8.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.SelectAsyncEnumerable`2.SelectAsyncEnumerator.<MoveNext>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.<_SingleOrDefault>d__123`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
ClientConnectionId:b051fdc7-fd7c-4be4-9e08-5fff0b539bcc
Error Number:207,State:1,Class:16
2017-06-18T00:07:39.5318220-03:00 0HL5LUSG7DC3F [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 268.8915ms (afa2e885)
2017-06-18T00:07:39.5658443-03:00 0HL5LUSG7DC3F [ERR] An unhandled exception has occurred while executing the request (cf926119)
System.Data.SqlClient.SqlException: Invalid column name 'PessoaId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__107_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.<ExecuteAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable.AsyncEnumerator.<BufferlessMoveNext>d__9.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__6`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable.AsyncEnumerator.<MoveNext>d__8.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.SelectAsyncEnumerable`2.SelectAsyncEnumerator.<MoveNext>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.<_SingleOrDefault>d__123`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.TaskResultAsyncEnumerable`1.Enumerator.<MoveNext>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.<MoveNext>d__5.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Calemas.Erp.Sso.Api.UserServices.<Auth>d__2.MoveNext() in C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\UserServices.cs:line 22
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer4.Quickstart.UI.AccountController.<Login>d__7.MoveNext() in C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\Quickstart\Account\AccountController.cs:line 84
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__27.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__25.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.FederatedSignOutMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.AuthenticationMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:b051fdc7-fd7c-4be4-9e08-5fff0b539bcc
Error Number:207,State:1,Class:16
2017-06-18T00:07:39.7934965-03:00 0HL5LUSG7DC3F [INF] Request finished in 549.5403ms 500 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:10:36.6626642-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-18T00:10:37.1913348-03:00 0HL5LUUBQELJ4 [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-18T00:10:37.7972393-03:00 0HL5LUUBQELJ4 [INF] Executing action method "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:10:37.8392665-03:00 0HL5LUUBQELJ4 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-06-18T00:10:37.9353314-03:00 0HL5LUUBQELJ4 [INF] Executed action "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" in 201.8573ms (afa2e885)
2017-06-18T00:10:37.9658510-03:00 0HL5LUUBQELJ4 [INF] Request finished in 794.0439ms 200 text/plain; charset=utf-8 (15c52c40)
2017-06-18T00:10:44.2810278-03:00 0HL5LUUBQELJ5 [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977552433230.7841490902207635 application/x-www-form-urlencoded 437 (e5be5b71)
2017-06-18T00:10:44.6427690-03:00 0HL5LUUBQELJ5 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 290.9444ms (afa2e885)
2017-06-18T00:10:44.7153180-03:00 0HL5LUUBQELJ5 [ERR] An unhandled exception has occurred while executing the request (cf926119)
System.InvalidOperationException: The child/dependent side could not be determined for the one-to-one relationship that was detected between 'Colaborador.Pessoa' and 'Pessoa.Colaborador'. To identify the child/dependent side of the relationship, configure the foreign key property. See http://go.microsoft.com/fwlink/?LinkId=724062 for more details.
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.RelationshipValidationConvention.Apply(InternalModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelBuilt(InternalModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder, IModelValidator validator)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()
   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass16_0.<RealizeService>b__0(ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.DbContext.Set[TEntity]()
   at Common.Orm.Repository`1..ctor(DbContext ctx) in C:\Pessoal\calemas-erp\Common\Common.Orm\Repository.cs:line 21
   at Calemas.Erp.Data.Repository.ColaboradorRepository..ctor(DbContextCore ctx) in C:\Pessoal\calemas-erp\Calemas.Erp.Data\Repository\Colaborador\ColaboradorRepository.cs:line 15
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitTransient(TransientCallSite transientCallSite, ServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.<>c__DisplayClass16_0.<RealizeService>b__0(ServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.TypeActivatorCache.CreateInstance[TInstance](IServiceProvider serviceProvider, Type implementationType)
   at Microsoft.AspNetCore.Mvc.Controllers.DefaultControllerFactory.CreateController(ControllerContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.FederatedSignOutMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.AuthenticationMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware`1.<Invoke>d__18.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2017-06-18T00:10:44.9789942-03:00 0HL5LUUBQELJ5 [INF] Request finished in 698.3973ms 500 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:11:21.0827401-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-18T00:11:21.5545547-03:00 0HL5LUUP1H85F [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-18T00:11:22.1829735-03:00 0HL5LUUP1H85F [INF] Executing action method "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:11:22.2320064-03:00 0HL5LUUP1H85F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-06-18T00:11:22.3330740-03:00 0HL5LUUP1H85F [INF] Executed action "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" in 263.3966ms (afa2e885)
2017-06-18T00:11:22.3610931-03:00 0HL5LUUP1H85F [INF] Request finished in 826.748ms 200 text/plain; charset=utf-8 (15c52c40)
2017-06-18T00:12:52.8821164-03:00  [INF] User profile is available. Using '"C:\Users\bruun\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2017-06-18T00:12:53.4238394-03:00 0HL5LUVKDLC8Q [INF] Request starting HTTP/1.1 GET http://localhost:4000/api/Health  0 (e5be5b71)
2017-06-18T00:12:53.9256761-03:00 0HL5LUVKDLC8Q [INF] Executing action method "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:12:53.9817123-03:00 0HL5LUVKDLC8Q [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-06-18T00:12:54.1047942-03:00 0HL5LUVKDLC8Q [INF] Executed action "Calemas.Erp.Sso.Api.Controllers.HealthController.Get (Calemas.Erp.Sso.Api)" in 245.6781ms (afa2e885)
2017-06-18T00:12:54.1348146-03:00 0HL5LUVKDLC8Q [INF] Request finished in 733.5108ms 200 text/plain; charset=utf-8 (15c52c40)
2017-06-18T00:13:13.1211817-03:00 0HL5LUVKDLC8R [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977552433230.7841490902207635 application/x-www-form-urlencoded 437 (e5be5b71)
2017-06-18T00:13:13.6490346-03:00 0HL5LUVKDLC8R [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:13:13.9377260-03:00 0HL5LUVKDLC8R [INF] Executed DbCommand (72ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Password], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @__userName_0) AND ([_].[Password] = @__password_1) (6438bdd5)
2017-06-18T00:13:14.0247851-03:00 0HL5LUVKDLC8R [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-18T00:13:14.0392937-03:00 0HL5LUVKDLC8R [INF] Executing RedirectResult, redirecting to "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635". (d98d540e)
2017-06-18T00:13:14.0407958-03:00 0HL5LUVKDLC8R [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 848.0804ms (afa2e885)
2017-06-18T00:13:14.0442972-03:00 0HL5LUVKDLC8R [INF] Request finished in 922.7574ms 302  (15c52c40)
2017-06-18T00:13:14.0501571-03:00 0HL5LUVKDLC8S [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635   (e5be5b71)
2017-06-18T00:13:14.0616647-03:00 0HL5LUVKDLC8S [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:13:14.0621635-03:00 0HL5LUVKDLC8S [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:14.0761736-03:00 0HL5LUVKDLC8S [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/login" (f7642de5)
2017-06-18T00:13:14.0906826-03:00 0HL5LUVKDLC8S [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:14.2617970-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:13:14.3713704-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:13:14.3918842-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:13:14.3943908-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:13:14.3968947-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:13:14.4028995-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:13:14.4079018-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:13:14.4139058-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:13:14.4189102-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:13:15.3840529-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:15.4716112-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:15.4841196-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:15.4886223-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:15.4931263-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:15.5001303-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:15.6692429-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:15.6707442-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:15.6717447-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:15.6737456-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:15.6737456-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:15.6742465-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:15.6847536-03:00 0HL5LUVKDLC8S [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:16.1205442-03:00 0HL5LUVKDLC8S [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977552433230.7841490902207635\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977552433230.7841490902207635\"
  }
}" (9a175e33)
2017-06-18T00:13:16.1900905-03:00 0HL5LUVKDLC8S [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:13:16.1915922-03:00 0HL5LUVKDLC8S [INF] Showing consent: User has not yet consented (07b81e7e)
2017-06-18T00:13:16.2106042-03:00 0HL5LUVKDLC8S [INF] Request finished in 2160.374ms 302  (15c52c40)
2017-06-18T00:13:16.2266149-03:00 0HL5LUVKDLC8T [INF] Request starting HTTP/1.1 GET http://localhost:4000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fconsent%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977552433230.7841490902207635   (e5be5b71)
2017-06-18T00:13:16.2281183-03:00 0HL5LUVKDLC8T [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:13:16.2281183-03:00 0HL5LUVKDLC8T [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:16.2396246-03:00 0HL5LUVKDLC8T [INF] Executing action method "IdentityServer4.Quickstart.UI.ConsentController.Index (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/consent?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:13:16.2771487-03:00 0HL5LUVKDLC8T [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:16.2836532-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:13:16.2856549-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:13:16.2866554-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:13:16.2876571-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:13:16.2886563-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:13:16.2891568-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:13:16.2901576-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:13:16.2916585-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:13:16.2951608-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:13:16.2996643-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:16.3016652-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:16.3026657-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3036665-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3046670-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:16.3051674-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:16.3076688-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:16.3096714-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:16.3106714-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3121727-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3131736-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:16.3136736-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:16.3146737-03:00 0HL5LUVKDLC8T [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:16.3196768-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:13:16.3206777-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:13:16.3221790-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:13:16.3231799-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:13:16.3236795-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:13:16.3246803-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:13:16.3251808-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:13:16.3261817-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:13:16.3266829-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:13:16.3286830-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:16.3301839-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:16.3311844-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3316848-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:16.3321857-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:16.3326857-03:00 0HL5LUVKDLC8T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:19.2721481-03:00 0HL5LUVKDLC8T [INF] Executing ViewResult, running view at path "/Views/Consent/Index.cshtml". (9707eebe)
2017-06-18T00:13:19.7749832-03:00 0HL5LUVKDLC8T [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:19.8475309-03:00 0HL5LUVKDLC8T [INF] Executed action "IdentityServer4.Quickstart.UI.ConsentController.Index (Calemas.Erp.Sso.Api)" in 3616.4485ms (afa2e885)
2017-06-18T00:13:19.8535345-03:00 0HL5LUVKDLC8T [INF] Request finished in 3627.828ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:13:20.0955297-03:00 0HL5LUVKDLC8U [INF] Request starting HTTP/1.1 GET http://localhost:4000/lib/bootstrap/fonts/glyphicons-halflings-regular.woff2   (e5be5b71)
2017-06-18T00:13:20.0960306-03:00 0HL5LUVKDLC8U [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:13:20.0960306-03:00 0HL5LUVKDLC8U [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:20.1135418-03:00 0HL5LUVKDLC8U [INF] Sending file. Request path: '"/lib/bootstrap/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\lib\bootstrap\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2017-06-18T00:13:20.1320546-03:00 0HL5LUVKDLC8U [INF] Request finished in 36.4587ms 200 application/font-woff2 (15c52c40)
2017-06-18T00:13:26.2814195-03:00 0HL5LUVKDLC8V [INF] Request starting HTTP/1.1 POST http://localhost:4000/consent application/x-www-form-urlencoded 510 (e5be5b71)
2017-06-18T00:13:26.2819199-03:00 0HL5LUVKDLC8V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:13:26.2819199-03:00 0HL5LUVKDLC8V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.3089394-03:00 0HL5LUVKDLC8V [INF] Executing action method "IdentityServer4.Quickstart.UI.ConsentController.Index (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.ConsentInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:13:26.3129441-03:00 0HL5LUVKDLC8V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.3149430-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:13:26.3154434-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:13:26.3164426-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:13:26.3169455-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:13:26.3174435-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:13:26.3179440-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:13:26.3184464-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:13:26.3189448-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:13:26.3199457-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:13:26.3221613-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:26.3236647-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:26.3241647-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.3245260-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.3249353-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:26.3254378-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:26.3269387-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:26.3282667-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:26.3287684-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.3292684-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.3297693-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:26.3302693-03:00 0HL5LUVKDLC8V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:26.3307697-03:00 0HL5LUVKDLC8V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.3337728-03:00 0HL5LUVKDLC8V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.3622923-03:00 0HL5LUVKDLC8V [INF] Executing RedirectResult, redirecting to "/connect/authorize/consent?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635". (d98d540e)
2017-06-18T00:13:26.3627981-03:00 0HL5LUVKDLC8V [INF] Executed action "IdentityServer4.Quickstart.UI.ConsentController.Index (Calemas.Erp.Sso.Api)" in 77.3315ms (afa2e885)
2017-06-18T00:13:26.3627981-03:00 0HL5LUVKDLC8V [INF] Request finished in 81.5345ms 302  (15c52c40)
2017-06-18T00:13:26.3692955-03:00 0HL5LUVKDLC90 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/consent?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977552433230.7841490902207635   (e5be5b71)
2017-06-18T00:13:26.3697968-03:00 0HL5LUVKDLC90 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:13:26.3697968-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.3702968-03:00 0HL5LUVKDLC90 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/consent" (f7642de5)
2017-06-18T00:13:26.3793026-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.4628595-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:13:26.4633591-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:13:26.4638587-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:13:26.4643592-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:13:26.4648592-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:13:26.4648592-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:13:26.4653596-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:13:26.4658597-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:13:26.4663613-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:13:26.4678630-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:26.4693627-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:26.4703636-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.4708636-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.4713640-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:26.4723645-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:26.4738654-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:13:26.4748659-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:13:26.4753667-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.4758667-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:13:26.4768688-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:13:26.4773689-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:13:26.4778693-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:26.4778693-03:00 0HL5LUVKDLC90 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977552433230.7841490902207635\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977552433230.7841490902207635\"
  }
}" (9a175e33)
2017-06-18T00:13:26.4793690-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:13:26.4883752-03:00 0HL5LUVKDLC90 [INF] User consented to scopes: "calemas" (0f706f38)
2017-06-18T00:13:26.5185274-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (1ms) [Parameters=[@__token_Key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__token_Key_0 (6438bdd5)
2017-06-18T00:13:26.8102223-03:00 0HL5LUVKDLC90 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?', @p3='?' (Size = 4000), @p4='?', @p5='?' (Size = 200), @p6='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [CreationTime], [Data], [Expiration], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); (6438bdd5)
2017-06-18T00:13:27.1884746-03:00 0HL5LUVKDLC90 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977552433230.7841490902207635\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:13:27.2039849-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:27.2104889-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:13:27.2134911-03:00 0HL5LUVKDLC90 [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-18T00:13:27.2209964-03:00 0HL5LUVKDLC90 [INF] Request finished in 851.8408ms 302  (15c52c40)
2017-06-18T00:14:14.0242407-03:00 0HL5LUVKDLC91 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977556538350.5830019842613712   (e5be5b71)
2017-06-18T00:14:14.0247416-03:00 0HL5LUVKDLC91 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:14:14.0247416-03:00 0HL5LUVKDLC91 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:14:14.0252416-03:00 0HL5LUVKDLC91 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:14:14.0292443-03:00 0HL5LUVKDLC91 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:14:14.0327490-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:14:14.0342487-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:14:14.0352549-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:14:14.0357491-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:14:14.0362492-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:14:14.0367496-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:14:14.0372500-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:14:14.0377497-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:14:14.0382505-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:14:14.0397510-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:14:14.0407527-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:14:14.0412523-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:14:14.0417523-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:14:14.0423948-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:14:14.0429022-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:14:14.0443974-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:14:14.0453995-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:14:14.0463999-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:14:14.0468991-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:14:14.0475622-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:14:14.0480642-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:14:14.0485647-03:00 0HL5LUVKDLC91 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:14:14.0490651-03:00 0HL5LUVKDLC91 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977556538350.5830019842613712\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977556538350.5830019842613712\"
  }
}" (9a175e33)
2017-06-18T00:14:14.0510677-03:00 0HL5LUVKDLC91 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:14:14.0890922-03:00 0HL5LUVKDLC91 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977556538350.5830019842613712\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:14:14.0895922-03:00 0HL5LUVKDLC91 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:14:14.0920998-03:00 0HL5LUVKDLC91 [INF] Request finished in 67.8093ms 302  (15c52c40)
2017-06-18T00:15:17.1148879-03:00 0HL5LUVKDLC92 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080?&response_type=token&scope=calemas&state=14977557169220.4551048879638957   (e5be5b71)
2017-06-18T00:15:17.1168900-03:00 0HL5LUVKDLC92 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:15:17.1173909-03:00 0HL5LUVKDLC92 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:15:17.1178901-03:00 0HL5LUVKDLC92 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:15:17.1183909-03:00 0HL5LUVKDLC92 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:15:17.1233937-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:15:17.1248946-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:15:17.1253950-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:15:17.1258958-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:15:17.1268959-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:15:17.1273972-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:15:17.1279181-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:15:17.1283972-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:15:17.1288968-03:00 0HL5LUVKDLC92 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:15:17.1303994-03:00 0HL5LUVKDLC92 [ERR] Invalid redirect_uri: http://localhost:8080?
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080?\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977557169220.4551048879638957\"
  }
}" (9e0ea266)
2017-06-18T00:15:17.1328999-03:00 0HL5LUVKDLC92 [ERR] Request validation failed (abd529bc)
2017-06-18T00:15:17.1334007-03:00 0HL5LUVKDLC92 [INF] "{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080?\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"RequestedScopes\": \"\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080?\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977557169220.4551048879638957\"
  }
}" (9899f104)
2017-06-18T00:15:17.1579160-03:00 0HL5LUVKDLC92 [INF] Request finished in 43.0588ms 302  (15c52c40)
2017-06-18T00:15:17.1624199-03:00 0HL5LUVKDLC93 [INF] Request starting HTTP/1.1 GET http://localhost:4000/home/error?errorId=9dcd6dee0751ac364c05232d8f2dc58f   (e5be5b71)
2017-06-18T00:15:17.1629203-03:00 0HL5LUVKDLC93 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:15:17.1629203-03:00 0HL5LUVKDLC93 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:15:17.1679235-03:00 0HL5LUVKDLC93 [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" with arguments (["9dcd6dee0751ac364c05232d8f2dc58f"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:15:17.2389707-03:00 0HL5LUVKDLC93 [INF] Executing ViewResult, running view at path "/Views/Shared/Error.cshtml". (9707eebe)
2017-06-18T00:15:17.2459759-03:00 0HL5LUVKDLC93 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:15:17.2469756-03:00 0HL5LUVKDLC93 [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Error (Calemas.Erp.Sso.Api)" in 81.4323ms (afa2e885)
2017-06-18T00:15:17.2469756-03:00 0HL5LUVKDLC93 [INF] Request finished in 84.6373ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:16:50.6003420-03:00 0HL5LUVKDLC94 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977558104030.6174122108261679   (e5be5b71)
2017-06-18T00:16:50.6008420-03:00 0HL5LUVKDLC94 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:16:50.6013416-03:00 0HL5LUVKDLC94 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:16:50.6018421-03:00 0HL5LUVKDLC94 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:16:50.6018421-03:00 0HL5LUVKDLC94 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:16:50.6038434-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:16:50.6046870-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:16:50.6051891-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:16:50.6056887-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:16:50.6061892-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:16:50.6066896-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:16:50.6071913-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:16:50.6076905-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:16:50.6081909-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:16:50.6096918-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:16:50.6111927-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:16:50.6116948-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:16:50.6121932-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:16:50.6126948-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:16:50.6131940-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:16:50.6161962-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:16:50.6191989-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:16:50.6202001-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:16:50.6206998-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:16:50.6211994-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:16:50.6217002-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:16:50.6222003-03:00 0HL5LUVKDLC94 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:16:50.6227003-03:00 0HL5LUVKDLC94 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977558104030.6174122108261679\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977558104030.6174122108261679\"
  }
}" (9a175e33)
2017-06-18T00:16:50.6242024-03:00 0HL5LUVKDLC94 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:16:50.6342078-03:00 0HL5LUVKDLC94 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977558104030.6174122108261679\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:16:50.6342078-03:00 0HL5LUVKDLC94 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:16:50.6347091-03:00 0HL5LUVKDLC94 [INF] Request finished in 34.5588ms 302  (15c52c40)
2017-06-18T00:19:09.7043905-03:00 0HL5LUVKDLC95 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977559494640.27633497906302695   (e5be5b71)
2017-06-18T00:19:09.7048921-03:00 0HL5LUVKDLC95 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:19:09.7053909-03:00 0HL5LUVKDLC95 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:09.7053909-03:00 0HL5LUVKDLC95 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:19:09.7058914-03:00 0HL5LUVKDLC95 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:09.7073927-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:19:09.7078956-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:19:09.7083940-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:19:09.7088932-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:19:09.7093940-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:19:09.7098940-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:19:09.7103953-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:19:09.7113958-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:19:09.7118958-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:19:09.7128958-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:19:09.7143988-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:19:09.7153984-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:09.7158984-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:09.7164124-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:19:09.7168985-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:19:09.7184010-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:19:09.7194015-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:19:09.7199015-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:09.7204020-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:09.7209028-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:19:09.7214024-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:19:09.7219020-03:00 0HL5LUVKDLC95 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:09.7224025-03:00 0HL5LUVKDLC95 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977559494640.27633497906302695\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977559494640.27633497906302695\"
  }
}" (9a175e33)
2017-06-18T00:19:09.7234050-03:00 0HL5LUVKDLC95 [INF] Executed DbCommand (0ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:19:09.7334100-03:00 0HL5LUVKDLC95 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977559494640.27633497906302695\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:19:09.7334100-03:00 0HL5LUVKDLC95 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:09.7339101-03:00 0HL5LUVKDLC95 [INF] Request finished in 29.1776ms 302  (15c52c40)
2017-06-18T00:19:43.3749806-03:00 0HL5LUVKDLC96 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977559831840.46499901570670366   (e5be5b71)
2017-06-18T00:19:43.3754810-03:00 0HL5LUVKDLC96 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:19:43.3759814-03:00 0HL5LUVKDLC96 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:43.3779828-03:00 0HL5LUVKDLC96 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:19:43.3784832-03:00 0HL5LUVKDLC96 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:43.3899912-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (8ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:19:43.3959952-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (5ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:19:43.4115141-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (15ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:19:43.4215121-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (9ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:19:43.4290166-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (6ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:19:43.4390237-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (9ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:19:43.4555348-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (16ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:19:43.4600375-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:19:43.4660436-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:19:43.4710451-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:19:43.4775503-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:19:43.4880574-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:43.4950607-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:43.5030660-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:19:43.5205780-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:19:43.5215785-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:19:43.5225793-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:19:43.5230798-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:43.5235810-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:19:43.5245811-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:19:43.5250811-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:19:43.5260824-03:00 0HL5LUVKDLC96 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:43.5260824-03:00 0HL5LUVKDLC96 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977559831840.46499901570670366\",
  \"SessionId\": \"d15104a0514751938b6d434624641cb2\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977559831840.46499901570670366\"
  }
}" (9a175e33)
2017-06-18T00:19:43.5290854-03:00 0HL5LUVKDLC96 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:19:43.5380896-03:00 0HL5LUVKDLC96 [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977559831840.46499901570670366\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:19:43.5380896-03:00 0HL5LUVKDLC96 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:19:43.5385900-03:00 0HL5LUVKDLC96 [INF] Request finished in 164.008ms 302  (15c52c40)
2017-06-18T00:25:02.2434286-03:00 0HL5LUVKDLC97 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize?client_id=ssocalemas&redirect_uri=http://localhost:8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:25:02.2449299-03:00 0HL5LUVKDLC97 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize" (f7642de5)
2017-06-18T00:25:02.2509352-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:25:02.2539357-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:25:02.2569375-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:25:02.2594393-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:25:02.2629423-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:25:02.2667307-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:25:02.2697354-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:25:02.2727401-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:25:02.2757394-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:25:02.2782420-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:25:02.2832451-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:25:02.2917505-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3012559-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3092621-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:25:02.3267732-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:25:02.3282741-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:25:02.3292746-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:25:02.3302759-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3307759-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3322776-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:25:02.3327776-03:00 0HL5LUVKDLC97 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:25:02.3337781-03:00 0HL5LUVKDLC97 [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"anonymous\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977563018440.5149856416677314\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977563018440.5149856416677314\"
  }
}" (9a175e33)
2017-06-18T00:25:02.3337781-03:00 0HL5LUVKDLC97 [INF] Showing login: User is not authenticated (4b8d50b2)
2017-06-18T00:25:02.3367799-03:00 0HL5LUVKDLC97 [INF] Request finished in 93.3484ms 302  (15c52c40)
2017-06-18T00:25:02.3432852-03:00 0HL5LUVKDLC98 [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:25:02.3482879-03:00 0HL5LUVKDLC98 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:25:02.3577941-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:25:02.3582942-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:25:02.3587954-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:25:02.3592950-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:25:02.3592950-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:25:02.3597955-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:25:02.3602959-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:25:02.3607959-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:25:02.3612964-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:25:02.3627977-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:25:02.3642994-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:25:02.3647986-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3653003-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3657999-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:25:02.3668012-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:25:02.3678008-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:25:02.3693025-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:25:02.3698021-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3703030-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:25:02.3708030-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:25:02.3718039-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:25:02.3788096-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:25:02.3793096-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:25:02.3798096-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:25:02.3803097-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:25:02.3808097-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:25:02.3818106-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:25:02.3823106-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:25:02.3828110-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:25:02.3833110-03:00 0HL5LUVKDLC98 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:25:02.5744387-03:00 0HL5LUVKDLC98 [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:25:02.6479881-03:00 0HL5LUVKDLC98 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 300.9412ms (afa2e885)
2017-06-18T00:25:02.6479881-03:00 0HL5LUVKDLC98 [INF] Request finished in 304.8113ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:27:35.2579363-03:00 0HL5LUVKDLC99 [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/ExternalLogin?provider=Negotiate&returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:27:35.2609373-03:00 0HL5LUVKDLC99 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.ExternalLogin (Calemas.Erp.Sso.Api)" with arguments (["Negotiate", "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:27:35.2814519-03:00 0HL5LUVKDLC99 [INF] Executing ChallengeResult with authentication schemes (["Negotiate", "NTLM"]). (f3dca807)
2017-06-18T00:27:35.2904581-03:00 0HL5LUVKDLC99 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.ExternalLogin (Calemas.Erp.Sso.Api)" in 30.2351ms (afa2e885)
2017-06-18T00:27:35.2909573-03:00 0HL5LUVKDLC99 [INF] Request finished in 32.7902ms 401  (15c52c40)
2017-06-18T00:29:20.9824496-03:00 0HL5LUVKDLC9A [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:20.9834501-03:00 0HL5LUVKDLC9A [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:20.9917021-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:20.9962056-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:20.9992070-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:21.0022220-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:21.0057271-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:21.0087285-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:21.0127307-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:21.0152325-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:21.0187347-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:21.0217386-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:21.0262413-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:21.0342602-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:21.0417667-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:21.0517738-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:21.0721147-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:21.0733118-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:21.0748160-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:21.0758157-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:21.0763157-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:21.0768161-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:21.0778170-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:21.0803180-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:21.0808188-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:21.0813196-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:21.0818197-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:21.0823201-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:21.0827048-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:21.0832069-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:21.0832069-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:21.0837069-03:00 0HL5LUVKDLC9A [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:21.0852082-03:00 0HL5LUVKDLC9A [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:21.1842741-03:00 0HL5LUVKDLC9A [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 200.732ms (afa2e885)
2017-06-18T00:29:21.1842741-03:00 0HL5LUVKDLC9A [INF] Request finished in 201.9115ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:21.3994182-03:00 0HL5LUVKDLC9B [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-18T00:29:21.3999182-03:00 0HL5LUVKDLC9B [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-18T00:29:21.4134271-03:00 0HL5LUVKDLC9B [INF] Request finished in 14.059ms 200 text/css (15c52c40)
2017-06-18T00:29:22.0163290-03:00 0HL5LUVKDLC9C [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:22.0168294-03:00 0HL5LUVKDLC9C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:22.0173299-03:00 0HL5LUVKDLC9C [INF] Request finished in 1.0041ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:32.8908295-03:00 0HL5LUVKDLC9D [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:32.8918295-03:00 0HL5LUVKDLC9D [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:32.8938309-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:32.8943334-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:32.8953318-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:32.8953318-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:32.8958322-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:32.8963322-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:32.8968327-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:32.8973339-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:32.8978352-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:32.8988352-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:32.9003403-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:32.9009047-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:32.9013789-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:32.9018777-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:32.9023802-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:32.9038224-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:32.9048249-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:32.9053249-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:32.9058253-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:32.9063258-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:32.9068262-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:32.9083271-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:32.9093292-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:32.9098284-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:32.9108305-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:32.9113297-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:32.9118310-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:32.9123323-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:32.9128352-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:32.9133307-03:00 0HL5LUVKDLC9D [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:32.9138311-03:00 0HL5LUVKDLC9D [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:33.0038920-03:00 0HL5LUVKDLC9D [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 112.3177ms (afa2e885)
2017-06-18T00:29:33.0038920-03:00 0HL5LUVKDLC9D [INF] Request finished in 113.2722ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:33.4250505-03:00 0HL5LUVKDLC9E [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-18T00:29:33.4255509-03:00 0HL5LUVKDLC9E [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-18T00:29:33.4310545-03:00 0HL5LUVKDLC9E [INF] Request finished in 6.2125ms 200 text/css (15c52c40)
2017-06-18T00:29:34.2220835-03:00 0HL5LUVKDLC9F [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:34.2225831-03:00 0HL5LUVKDLC9F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:34.2230827-03:00 0HL5LUVKDLC9F [INF] Request finished in 1.2902ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:38.8786610-03:00 0HL5LUVKDLC9G [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:38.8796623-03:00 0HL5LUVKDLC9G [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:38.8816640-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:38.8826636-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:38.8831641-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:38.8836645-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:38.8836645-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:38.8846654-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:38.8851650-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:38.8856658-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:38.8861659-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:38.8876684-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:38.8886689-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:38.8896693-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:38.8901702-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:38.8906706-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:38.8911694-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:38.8926707-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:38.8951725-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:38.8961730-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:38.8966734-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:38.8976743-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:38.8981751-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:38.9006773-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:38.9011761-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:38.9016765-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:38.9021770-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:38.9026778-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:38.9031774-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:38.9041787-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:38.9046787-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:38.9051792-03:00 0HL5LUVKDLC9G [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:38.9056792-03:00 0HL5LUVKDLC9G [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:39.1058131-03:00 0HL5LUVKDLC9G [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 226.2555ms (afa2e885)
2017-06-18T00:29:39.1063135-03:00 0HL5LUVKDLC9G [INF] Request finished in 227.6066ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:39.3164533-03:00 0HL5LUVKDLC9H [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-18T00:29:39.3169533-03:00 0HL5LUVKDLC9H [INF] Sending file. Request path: '"/css/style.css"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\css\style.css"' (27b0a520)
2017-06-18T00:29:39.3189551-03:00 0HL5LUVKDLC9H [INF] Request finished in 2.3658ms 200 text/css (15c52c40)
2017-06-18T00:29:39.7211762-03:00 0HL5LUVKDLC9I [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:39.7211762-03:00 0HL5LUVKDLC9I [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:39.7216758-03:00 0HL5LUVKDLC9I [INF] Request finished in 0.7882ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:41.7109943-03:00 0HL5LUVKDLC9J [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:41.7114947-03:00 0HL5LUVKDLC9J [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:41.7134960-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:41.7139977-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:41.7144965-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:41.7149969-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:41.7154986-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:41.7159982-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:41.7164978-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:41.7169983-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:41.7174987-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:41.7185008-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:41.7205005-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:41.7215018-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:41.7220022-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:41.7230023-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:41.7235027-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:41.7250048-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:41.7265045-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:41.7270070-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:41.7275054-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:41.7285062-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:41.7300071-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:41.7330110-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:41.7335098-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:41.7345107-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:41.7360111-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:41.7380125-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:41.7390129-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:41.7395150-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:41.7400150-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:41.7405138-03:00 0HL5LUVKDLC9J [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:41.7410159-03:00 0HL5LUVKDLC9J [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:41.8625965-03:00 0HL5LUVKDLC9J [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 150.8871ms (afa2e885)
2017-06-18T00:29:41.8630961-03:00 0HL5LUVKDLC9J [INF] Request finished in 152.2734ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:42.1422822-03:00 0HL5LUVKDLC9K [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-18T00:29:42.1582928-03:00 0HL5LUVKDLC9K [INF] The file "/css/style.css" was not modified (f1f8d725)
2017-06-18T00:29:42.1677991-03:00 0HL5LUVKDLC9K [INF] Request finished in 25.4976ms 304 text/css (15c52c40)
2017-06-18T00:29:42.6175990-03:00 0HL5LUVKDLC9L [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:42.6180995-03:00 0HL5LUVKDLC9L [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:42.6180995-03:00 0HL5LUVKDLC9L [INF] Request finished in 0.9573ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:44.6468698-03:00 0HL5LUVKDLC9M [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:44.6473699-03:00 0HL5LUVKDLC9M [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:44.6493712-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:44.6498716-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:44.6503721-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:44.6508721-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:44.6513725-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:44.6518730-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:44.6518730-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:44.6523734-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:44.6528734-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:44.6548756-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:44.6563761-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:44.6568765-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:44.6573769-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:44.6578770-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:44.6588774-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:44.6603792-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:44.6613792-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:44.6618796-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:44.6623801-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:44.6628801-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:44.6638814-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:44.6663827-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:44.6673836-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:44.6678841-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:44.6683841-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:44.6688837-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:44.6693850-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:44.6698858-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:44.6703854-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:44.6708854-03:00 0HL5LUVKDLC9M [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:44.6713863-03:00 0HL5LUVKDLC9M [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:44.8059758-03:00 0HL5LUVKDLC9M [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 158.3554ms (afa2e885)
2017-06-18T00:29:44.8059758-03:00 0HL5LUVKDLC9M [INF] Request finished in 159.3805ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:45.0105832-03:00 0HL5LUVKDLC9N [INF] Request starting HTTP/1.1 GET http://localhost:4000/css/style.css   (e5be5b71)
2017-06-18T00:29:45.0115820-03:00 0HL5LUVKDLC9N [INF] The file "/css/style.css" was not modified (f1f8d725)
2017-06-18T00:29:45.0120825-03:00 0HL5LUVKDLC9N [INF] Request finished in 1.3666ms 304 text/css (15c52c40)
2017-06-18T00:29:45.3905980-03:00 0HL5LUVKDLC9O [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:45.3910988-03:00 0HL5LUVKDLC9O [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:45.3915992-03:00 0HL5LUVKDLC9O [INF] Request finished in 1.0074ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:48.6468025-03:00 0HL5LUVKDLC9P [INF] Request starting HTTP/1.1 GET http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:29:48.6478030-03:00 0HL5LUVKDLC9P [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:48.6493035-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:48.6498039-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:48.6503097-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:48.6508048-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:48.6511250-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:48.6516283-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:48.6521271-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:48.6521271-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:48.6526275-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:48.6536284-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:48.6551301-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:48.6556297-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:48.6561298-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:48.6566306-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:48.6571306-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:48.6586332-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:29:48.6601332-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:29:48.6611333-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:48.6616346-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:29:48.6621358-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:29:48.6626350-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:29:48.6646359-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:29:48.6646359-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:29:48.6651360-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:29:48.6656368-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:29:48.6661377-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:29:48.6666369-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:29:48.6666369-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:29:48.6671369-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:29:48.6677363-03:00 0HL5LUVKDLC9P [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:29:48.6682388-03:00 0HL5LUVKDLC9P [INF] Executing ViewResult, running view at path "/Views/Account/Login.cshtml". (9707eebe)
2017-06-18T00:29:48.7592993-03:00 0HL5LUVKDLC9P [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 111.9758ms (afa2e885)
2017-06-18T00:29:48.7597997-03:00 0HL5LUVKDLC9P [INF] Request finished in 112.8646ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:49.1563272-03:00 0HL5LUVKDLC9Q [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:29:49.1568285-03:00 0HL5LUVKDLC9Q [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:29:49.1573281-03:00 0HL5LUVKDLC9Q [INF] Request finished in 0.897ms 200 image/x-icon (15c52c40)
2017-06-18T00:29:53.3533255-03:00 0HL5LUVKDLC9R [INF] Request starting HTTP/1.1 GET http://localhost:4000/   (e5be5b71)
2017-06-18T00:29:53.3548256-03:00 0HL5LUVKDLC9R [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:29:53.4248723-03:00 0HL5LUVKDLC9R [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-06-18T00:29:53.4373803-03:00 0HL5LUVKDLC9R [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" in 82.6454ms (afa2e885)
2017-06-18T00:29:53.4373803-03:00 0HL5LUVKDLC9R [INF] Request finished in 84.1086ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:29:53.7556809-03:00 0HL5LUVKDLC9S [INF] Request starting HTTP/1.1 GET http://localhost:4000/icon.jpg   (e5be5b71)
2017-06-18T00:29:53.7561838-03:00 0HL5LUVKDLC9S [INF] Sending file. Request path: '"/icon.jpg"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\icon.jpg"' (27b0a520)
2017-06-18T00:29:53.7566838-03:00 0HL5LUVKDLC9S [INF] Request finished in 0.8481ms 200 image/jpeg (15c52c40)
2017-06-18T00:30:02.7256900-03:00 0HL5LUVKDLC9T [INF] Request starting HTTP/1.1 GET http://localhost:4000/.well-known/openid-configuration   (e5be5b71)
2017-06-18T00:30:02.7291922-03:00 0HL5LUVKDLC9T [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration" (f7642de5)
2017-06-18T00:30:02.7652163-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:30:02.7762246-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[Id], [i].[IdentityResourceId], [i].[Type]
FROM [IdentityClaims] AS [i]
WHERE EXISTS (
    SELECT 1
    FROM [IdentityResources] AS [x]
    WHERE [i].[IdentityResourceId] = [x].[Id])
ORDER BY [i].[IdentityResourceId] (6438bdd5)
2017-06-18T00:30:02.8067545-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
FROM [ApiResources] AS [x]
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:30:02.8092460-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a3].[ApiResourceId] = [x].[Id])
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:30:02.8122474-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a2].[ApiResourceId] = [x].[Id])
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:30:02.8147492-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [x]
    WHERE [a].[ApiResourceId] = [x].[Id])
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:30:02.8172526-03:00 0HL5LUVKDLC9T [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [x]
        WHERE [a].[ApiResourceId] = [x].[Id])
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:30:02.8812937-03:00 0HL5LUVKDLC9T [INF] Request finished in 155.0917ms 200 application/json (15c52c40)
2017-06-18T00:31:41.3211481-03:00 0HL5LUVKDLC9U [INF] Request starting HTTP/1.1 POST http://localhost:4000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dssocalemas%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A8080%26response_type%3Dtoken%26scope%3Dcalemas%26state%3D14977563018440.5149856416677314 application/x-www-form-urlencoded 456 (e5be5b71)
2017-06-18T00:31:41.3221498-03:00 0HL5LUVKDLC9U [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LoginInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:31:41.3251504-03:00 0HL5LUVKDLC9U [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?' (Size = 4000), @__password_1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [_].[Id], [_].[Account], [_].[Password], [_].[UserAlterDate], [_].[UserAlterId], [_].[UserCreateDate], [_].[UserCreateId]
FROM [Colaborador] AS [_]
WHERE ([_].[Account] = @__userName_0) AND ([_].[Password] = @__password_1) (6438bdd5)
2017-06-18T00:31:41.3291535-03:00 0HL5LUVKDLC9U [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-18T00:31:41.3291535-03:00 0HL5LUVKDLC9U [INF] Executing RedirectResult, redirecting to "/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314". (d98d540e)
2017-06-18T00:31:41.3296539-03:00 0HL5LUVKDLC9U [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Login (Calemas.Erp.Sso.Api)" in 7.7192ms (afa2e885)
2017-06-18T00:31:41.3296539-03:00 0HL5LUVKDLC9U [INF] Request finished in 8.6745ms 302  (15c52c40)
2017-06-18T00:31:41.3336582-03:00 0HL5LUVKDLC9V [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/authorize/login?client_id=ssocalemas&redirect_uri=http%3A%2F%2Flocalhost%3A8080&response_type=token&scope=calemas&state=14977563018440.5149856416677314   (e5be5b71)
2017-06-18T00:31:41.3341574-03:00 0HL5LUVKDLC9V [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:31:41.3341574-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:41.3346575-03:00 0HL5LUVKDLC9V [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize/login" (f7642de5)
2017-06-18T00:31:41.3346575-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:41.3381593-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:31:41.3406615-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:31:41.3441641-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:31:41.3476577-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:31:41.3506632-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:31:41.3533111-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:31:41.3560235-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:31:41.3585031-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:31:41.3625062-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:31:41.3650076-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:31:41.3690110-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:31:41.3765151-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:31:41.3845209-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:31:41.3920262-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:31:41.4130392-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:31:41.4145401-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [identityResource]
WHERE [identityResource].[Name] IN (N'calemas')
ORDER BY [identityResource].[Id] (6438bdd5)
2017-06-18T00:31:41.4165410-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
FROM [ApiResources] AS [api]
WHERE EXISTS (
    SELECT 1
    FROM [ApiScopes] AS [x]
    WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId]))
ORDER BY [api].[Id] (6438bdd5)
2017-06-18T00:31:41.4170419-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a3].[Id], [a3].[ApiResourceId], [a3].[Type]
FROM [ApiClaims] AS [a3]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a3].[ApiResourceId] = [api].[Id]))
ORDER BY [a3].[ApiResourceId] (6438bdd5)
2017-06-18T00:31:41.4175423-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a2].[Id], [a2].[ApiResourceId], [a2].[Description], [a2].[Expiration], [a2].[Type], [a2].[Value]
FROM [ApiSecrets] AS [a2]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a2].[ApiResourceId] = [api].[Id]))
ORDER BY [a2].[ApiResourceId] (6438bdd5)
2017-06-18T00:31:41.4180427-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ApiResourceId], [a].[Description], [a].[DisplayName], [a].[Emphasize], [a].[Name], [a].[Required], [a].[ShowInDiscoveryDocument]
FROM [ApiScopes] AS [a]
WHERE EXISTS (
    SELECT 1
    FROM [ApiResources] AS [api]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiScopes] AS [x]
        WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
ORDER BY [a].[ApiResourceId], [a].[Id] (6438bdd5)
2017-06-18T00:31:41.4190432-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ApiScopeId], [a0].[Type]
FROM [ApiScopeClaims] AS [a0]
INNER JOIN (
    SELECT DISTINCT [a].[ApiResourceId], [a].[Id]
    FROM [ApiScopes] AS [a]
    WHERE EXISTS (
        SELECT 1
        FROM [ApiResources] AS [api]
        WHERE EXISTS (
            SELECT 1
            FROM [ApiScopes] AS [x]
            WHERE [x].[Name] IN (N'calemas') AND ([api].[Id] = [x].[ApiResourceId])) AND ([a].[ApiResourceId] = [api].[Id]))
) AS [a1] ON [a0].[ApiScopeId] = [a1].[Id]
ORDER BY [a1].[ApiResourceId], [a1].[Id] (6438bdd5)
2017-06-18T00:31:41.4190432-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:41.4195436-03:00 0HL5LUVKDLC9V [INF] ValidatedAuthorizeRequest
"{
  \"ClientId\": \"ssocalemas\",
  \"ClientName\": \"SPA Client Implicit\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"AllowedRedirectUris\": [
    \"http://localhost:8080\"
  ],
  \"SubjectId\": \"1\",
  \"ResponseType\": \"token\",
  \"ResponseMode\": \"fragment\",
  \"GrantType\": \"implicit\",
  \"RequestedScopes\": \"calemas\",
  \"State\": \"14977563018440.5149856416677314\",
  \"SessionId\": \"527f30a89044a558ca21f66d7f2f7b37\",
  \"Raw\": {
    \"client_id\": \"ssocalemas\",
    \"redirect_uri\": \"http://localhost:8080\",
    \"response_type\": \"token\",
    \"scope\": \"calemas\",
    \"state\": \"14977563018440.5149856416677314\"
  }
}" (9a175e33)
2017-06-18T00:31:41.4245472-03:00 0HL5LUVKDLC9V [INF] Executed DbCommand (4ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 (6438bdd5)
2017-06-18T00:31:41.4405578-03:00 0HL5LUVKDLC9V [INF] Authorize endpoint response
"{
  \"SubjectId\": \"1\",
  \"ClientId\": \"ssocalemas\",
  \"RedirectUri\": \"http://localhost:8080\",
  \"State\": \"14977563018440.5149856416677314\",
  \"Scope\": \"calemas\"
}" (5993a9fa)
2017-06-18T00:31:41.4410579-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:41.4410579-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:41.4415583-03:00 0HL5LUVKDLC9V [INF] AuthenticationScheme: "idsrv" signed in. (c66dd7e7)
2017-06-18T00:31:41.4420587-03:00 0HL5LUVKDLC9V [INF] Request finished in 108.1989ms 302  (15c52c40)
2017-06-18T00:31:45.8636635-03:00 0HL5LUVKDLCA0 [INF] Request starting HTTP/1.1 GET http://localhost:4000/   (e5be5b71)
2017-06-18T00:31:45.8641635-03:00 0HL5LUVKDLCA0 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:31:45.8641635-03:00 0HL5LUVKDLCA0 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:45.8646639-03:00 0HL5LUVKDLCA0 [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:31:45.8651644-03:00 0HL5LUVKDLCA0 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-06-18T00:31:45.9742369-03:00 0HL5LUVKDLCA0 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:45.9767387-03:00 0HL5LUVKDLCA0 [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" in 112.0402ms (afa2e885)
2017-06-18T00:31:45.9772391-03:00 0HL5LUVKDLCA0 [INF] Request finished in 113.4832ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:31:50.2880959-03:00 0HL5LUVKDLCA1 [INF] Request starting HTTP/1.1 GET http://localhost:4000/Account/Logout   (e5be5b71)
2017-06-18T00:31:50.2885968-03:00 0HL5LUVKDLCA1 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:31:50.2890968-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.2910981-03:00 0HL5LUVKDLCA1 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments ([""]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:31:50.2961025-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.3016048-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.3051075-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.3051075-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.3586439-03:00 0HL5LUVKDLCA1 [INF] Executing ViewResult, running view at path "/Views/Account/Logout.cshtml". (9707eebe)
2017-06-18T00:31:50.3686498-03:00 0HL5LUVKDLCA1 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:50.3691494-03:00 0HL5LUVKDLCA1 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 78.1731ms (afa2e885)
2017-06-18T00:31:50.3691494-03:00 0HL5LUVKDLCA1 [INF] Request finished in 80.9586ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:31:52.6168576-03:00 0HL5LUVKDLCA2 [INF] Request starting HTTP/1.1 POST http://localhost:4000/Account/Logout application/x-www-form-urlencoded 235 (e5be5b71)
2017-06-18T00:31:52.6173580-03:00 0HL5LUVKDLCA2 [INF] HttpContext.User merged via AutomaticAuthentication from authenticationScheme: "idsrv". (bdba1d38)
2017-06-18T00:31:52.6173580-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.6203607-03:00 0HL5LUVKDLCA2 [INF] Executing action method "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" with arguments (["IdentityServer4.Quickstart.UI.LogoutInputModel"]) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:31:52.6253634-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.6253634-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.6253634-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.6273651-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.6533833-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" signed out. (d3f50c8d)
2017-06-18T00:31:52.6533833-03:00 0HL5LUVKDLCA2 [INF] AuthenticationScheme: "idsrv" was successfully authenticated. (1805f3b3)
2017-06-18T00:31:52.7329092-03:00 0HL5LUVKDLCA2 [INF] Executing ViewResult, running view at path "/Views/Account/LoggedOut.cshtml". (9707eebe)
2017-06-18T00:31:52.7474190-03:00 0HL5LUVKDLCA2 [INF] Executed action "IdentityServer4.Quickstart.UI.AccountController.Logout (Calemas.Erp.Sso.Api)" in 128.1642ms (afa2e885)
2017-06-18T00:31:52.7484202-03:00 0HL5LUVKDLCA2 [INF] Request finished in 131.0449ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:31:52.9698402-03:00 0HL5LUVKDLCA3 [INF] Request starting HTTP/1.1 GET http://localhost:4000/connect/endsession/callback?sid=527f30a89044a558ca21f66d7f2f7b37   (e5be5b71)
2017-06-18T00:31:52.9718419-03:00 0HL5LUVKDLCA3 [INF] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.EndSessionEndpoint" for "/connect/endsession/callback" (f7642de5)
2017-06-18T00:31:52.9868505-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[EnableLocalLogin], [x].[Enabled], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[LogoutSessionRequired], [x].[LogoutUri], [x].[PrefixClientClaims], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
FROM [Clients] AS [x]
WHERE [x].[ClientId] = @__clientId_0
ORDER BY [x].[Id] (6438bdd5)
2017-06-18T00:31:52.9873517-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c6].[Id], [c6].[ClientId], [c6].[Origin]
FROM [ClientCorsOrigins] AS [c6]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x7] ON [c6].[ClientId] = [x7].[Id]
ORDER BY [x7].[Id] (6438bdd5)
2017-06-18T00:31:52.9878526-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c5].[Id], [c5].[ClientId], [c5].[Provider]
FROM [ClientIdPRestrictions] AS [c5]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x6] ON [c5].[ClientId] = [x6].[Id]
ORDER BY [x6].[Id] (6438bdd5)
2017-06-18T00:31:52.9883518-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c4].[Id], [c4].[ClientId], [c4].[Type], [c4].[Value]
FROM [ClientClaims] AS [c4]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x5] ON [c4].[ClientId] = [x5].[Id]
ORDER BY [x5].[Id] (6438bdd5)
2017-06-18T00:31:52.9888518-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c3].[Id], [c3].[ClientId], [c3].[Description], [c3].[Expiration], [c3].[Type], [c3].[Value]
FROM [ClientSecrets] AS [c3]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x4] ON [c3].[ClientId] = [x4].[Id]
ORDER BY [x4].[Id] (6438bdd5)
2017-06-18T00:31:52.9893518-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c2].[Id], [c2].[ClientId], [c2].[Scope]
FROM [ClientScopes] AS [c2]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x3] ON [c2].[ClientId] = [x3].[Id]
ORDER BY [x3].[Id] (6438bdd5)
2017-06-18T00:31:52.9898523-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c1].[Id], [c1].[ClientId], [c1].[PostLogoutRedirectUri]
FROM [ClientPostLogoutRedirectUris] AS [c1]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x2] ON [c1].[ClientId] = [x2].[Id]
ORDER BY [x2].[Id] (6438bdd5)
2017-06-18T00:31:52.9898523-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c0].[Id], [c0].[ClientId], [c0].[RedirectUri]
FROM [ClientRedirectUris] AS [c0]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x1] ON [c0].[ClientId] = [x1].[Id]
ORDER BY [x1].[Id] (6438bdd5)
2017-06-18T00:31:52.9903527-03:00 0HL5LUVKDLCA3 [INF] Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT [c].[Id], [c].[ClientId], [c].[GrantType]
FROM [ClientGrantTypes] AS [c]
INNER JOIN (
    SELECT DISTINCT TOP(1) [x].[Id]
    FROM [Clients] AS [x]
    WHERE [x].[ClientId] = @__clientId_0
    ORDER BY [x].[Id]
) AS [x0] ON [c].[ClientId] = [x0].[Id]
ORDER BY [x0].[Id] (6438bdd5)
2017-06-18T00:31:52.9913548-03:00 0HL5LUVKDLCA3 [INF] Successful signout callback. Client logout iframe urls: "" (76941251)
2017-06-18T00:31:53.0013615-03:00 0HL5LUVKDLCA3 [INF] Request finished in 31.7643ms 200 text/html; charset=UTF-8 (15c52c40)
2017-06-18T00:31:57.0881817-03:00 0HL5LUVKDLCA4 [INF] Request starting HTTP/1.1 GET http://localhost:4000/   (e5be5b71)
2017-06-18T00:31:57.0891809-03:00 0HL5LUVKDLCA4 [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:31:57.0891809-03:00 0HL5LUVKDLCA4 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-06-18T00:31:57.0896809-03:00 0HL5LUVKDLCA4 [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" in 0.8378ms (afa2e885)
2017-06-18T00:31:57.0901814-03:00 0HL5LUVKDLCA4 [INF] Request finished in 1.6154ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:32:06.8637140-03:00 0HL5LUVKDLCA5 [INF] Request starting HTTP/1.1 GET http://localhost:4000/   (e5be5b71)
2017-06-18T00:32:06.8642148-03:00 0HL5LUVKDLCA5 [INF] Executing action method "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-06-18T00:32:06.8642148-03:00 0HL5LUVKDLCA5 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-06-18T00:32:06.9522727-03:00 0HL5LUVKDLCA5 [INF] Executed action "IdentityServer4.Quickstart.UI.HomeController.Index (Calemas.Erp.Sso.Api)" in 88.3108ms (afa2e885)
2017-06-18T00:32:06.9527736-03:00 0HL5LUVKDLCA5 [INF] Request finished in 89.1265ms 200 text/html; charset=utf-8 (15c52c40)
2017-06-18T00:32:07.3179181-03:00 0HL5LUVKDLCA6 [INF] Request starting HTTP/1.1 GET http://localhost:4000/favicon.ico   (e5be5b71)
2017-06-18T00:32:07.3184185-03:00 0HL5LUVKDLCA6 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Pessoal\calemas-erp\Calemas.Erp.Sso.Api\wwwroot\favicon.ico"' (27b0a520)
2017-06-18T00:32:07.3189190-03:00 0HL5LUVKDLCA6 [INF] Request finished in 0.9614ms 200 image/x-icon (15c52c40)
